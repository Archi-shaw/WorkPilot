"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/projects/route";
exports.ids = ["app/api/projects/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2Froute&page=%2Fapi%2Fprojects%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2Froute.ts&appDir=%2Fhome%2Fuser%2FDocuments%2FWorkpiolt%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2FDocuments%2FWorkpiolt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2Froute&page=%2Fapi%2Fprojects%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2Froute.ts&appDir=%2Fhome%2Fuser%2FDocuments%2FWorkpiolt%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2FDocuments%2FWorkpiolt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_user_Documents_Workpiolt_app_api_projects_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/projects/route.ts */ \"(rsc)/./app/api/projects/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/projects/route\",\n        pathname: \"/api/projects\",\n        filename: \"route\",\n        bundlePath: \"app/api/projects/route\"\n    },\n    resolvedPagePath: \"/home/user/Documents/Workpiolt/app/api/projects/route.ts\",\n    nextConfigOutput,\n    userland: _home_user_Documents_Workpiolt_app_api_projects_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/projects/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9qZWN0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcHJvamVjdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwcm9qZWN0cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGdXNlciUyRkRvY3VtZW50cyUyRldvcmtwaW9sdCUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRnVzZXIlMkZEb2N1bWVudHMlMkZXb3JrcGlvbHQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ1E7QUFDckY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LW1hbmFnZW1lbnQvP2M3YjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL2hvbWUvdXNlci9Eb2N1bWVudHMvV29ya3Bpb2x0L2FwcC9hcGkvcHJvamVjdHMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Byb2plY3RzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHJvamVjdHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Byb2plY3RzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL2hvbWUvdXNlci9Eb2N1bWVudHMvV29ya3Bpb2x0L2FwcC9hcGkvcHJvamVjdHMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3Byb2plY3RzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2Froute&page=%2Fapi%2Fprojects%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2Froute.ts&appDir=%2Fhome%2Fuser%2FDocuments%2FWorkpiolt%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2FDocuments%2FWorkpiolt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/[...nextauth]/option.ts":
/*!**********************************************!*\
  !*** ./app/api/auth/[...nextauth]/option.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/providers/github */ \"(rsc)/./node_modules/next-auth/providers/github.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/model/User */ \"(rsc)/./model/User.ts\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n// import NextAuth, { NextAuthOptions } from \"next-auth\";\n// import CredentialsProvider from \"next-auth/providers/credentials\";\n// import GithubProvider from \"next-auth/providers/github\";\n// import GoogleProvider from \"next-auth/providers/google\";\n// import bcrypt from \"bcryptjs\";\n// import dbConnect from \"@/lib/db\";\n// import UserModel, { User } from \"@/model/User\";\n// export const authOptions: NextAuthOptions = {\n//   providers: [\n//     GithubProvider({\n//       clientId: process.env.GITHUB_CLIENT_ID!,\n//       clientSecret: process.env.GITHUB_CLIENT_SECRET!,\n//     }),\n//     GoogleProvider({\n//       clientId: process.env.GOOGLE_CLIENT_ID!,\n//       clientSecret: process.env.GOOGLE_CLIENT_SECRET!,\n//     }),\n//     CredentialsProvider({\n//       id: \"credentials\",\n//       name: \"Credentials\",\n//       credentials: {\n//         identifier: { label: \"Email or Roll No\", type: \"text\" },\n//         password: { label: \"Password\", type: \"password\" },\n//       },\n//       async authorize(credentials: any): Promise<any> {\n//         await dbConnect();\n//         try {\n//           const user = await UserModel.findOne({\n//             $or: [\n//               { email: credentials.identifier },\n//               { rollNo: credentials.identifier },\n//             ],\n//           });\n//           if (!user) {\n//             throw new Error(\"No user found with this Email/Roll No.\");\n//           }\n//           const isPasswordValid = await bcrypt.compare(\n//             credentials.password,\n//             user.password\n//           );\n//           if (!isPasswordValid) {\n//             throw new Error(\"Invalid password\");\n//           }\n//           return user;\n//         } catch (err: any) {\n//           throw new Error(err.message || \"Authentication failed\");\n//         }\n//       },\n//     }),\n//   ],\n//   pages: {\n//     signIn: \"/auth/signin\",\n//   },\n//   callbacks: {\n//   async jwt({ token, user }) {\n//       const validroles = [\"Admin\", \"Lead\", \"Member\", \"ProjectLead\" , \"CoLead\" , \"member\" , \"lead\" , \"admin\" , \"projectlead\" , \"colead\"];\n//     if (user) {\n//       const u = user as unknown as User;\n//       token._id = u._id?.toString();\n//       token.name = u.name;\n//       token.email = u.email;\n//       token.rollNo = u.rollNo;\n//       token.role = validroles.includes(u.role) ? u.role : \"Member\";\n//       token.domain = u.domain;\n//       token.githubId = u.githubId;\n//       token.linkedinId = u.linkedinId;\n//     }\n//     return token;   \n//   }, \n//   async session({ session, token }) {\n//     if (token && session.user) {\n//       session.user._id = token._id as string;\n//       session.user.name = token.name as string;\n//       session.user.email = token.email as string;\n//       session.user.rollNo = token.rollNo as string;\n//       session.user.role =  token.role as string;\n//       session.user.domain = token.domain as string;\n//       session.user.githubId = token.githubId as string;\n//       session.user.linkedinId = token.linkedinId as string;\n//     }\n//     return session;\n//   },\n// },\n//   session: {\n//     strategy: \"jwt\",\n//   },\n//   secret: process.env.NEXTAUTH_SECRET,\n// };\n// const handler = NextAuth(authOptions) as any;\n// // CORS helper â€” mirrors middleware origin handling but usable here\n// function buildCorsHeadersFromRequest(req: Request) {\n//   const allowedOrigins = [process.env.NEXT_PUBLIC_BASE_URL || 'https://workpilot-f.onrender.com'];\n//   const origin = req.headers.get('origin') || allowedOrigins[0];\n//   const allowedOrigin = allowedOrigins.includes(origin) ? origin : allowedOrigins[0];\n//   return {\n//     'Access-Control-Allow-Origin': allowedOrigin,\n//     'Access-Control-Allow-Methods': 'GET,POST,PUT,DELETE,OPTIONS',\n//     'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n//     'Access-Control-Allow-Credentials': 'true',\n//   } as Record<string, string>;\n// }\n// export async function OPTIONS(req: Request) {\n//   const headers = buildCorsHeadersFromRequest(req);\n//   return new Response(null, { status: 204, headers });\n// }\n// export async function GET(req: Request) {\n//   // call NextAuth handler and attach CORS headers\n//   const resp: Response = await handler(req);\n//   const headers = buildCorsHeadersFromRequest(req);\n//   for (const [k, v] of Object.entries(headers)) {\n//     resp.headers.set(k, v);\n//   }\n//   return resp;\n// }\n// export async function POST(req: Request) {\n//   const resp: Response = await handler(req);\n//   const headers = buildCorsHeadersFromRequest(req);\n//   for (const [k, v] of Object.entries(headers)) {\n//     resp.headers.set(k, v);\n//   }\n//   return resp;\n// }\n\n\n\n\n\n\n\n\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_github__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n            clientId: process.env.GITHUB_CLIENT_ID,\n            clientSecret: process.env.GITHUB_CLIENT_SECRET\n        }),\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            clientId: process.env.GOOGLE_CLIENT_ID,\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET\n        }),\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            id: \"credentials\",\n            name: \"Credentials\",\n            credentials: {\n                identifier: {\n                    label: \"Email or Roll No\",\n                    type: \"text\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                await (0,_lib_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n                const userDoc = await _model_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOne({\n                    $or: [\n                        {\n                            email: credentials?.identifier\n                        },\n                        {\n                            rollNo: credentials?.identifier\n                        }\n                    ]\n                }).lean();\n                if (!userDoc) throw new Error(\"No user found\");\n                const isValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_4__[\"default\"].compare(credentials.password, userDoc.password);\n                if (!isValid) throw new Error(\"Invalid password\");\n                const user = {\n                    ...userDoc,\n                    _id: userDoc._id.toString()\n                };\n                return user;\n            }\n        })\n    ],\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                const u = user;\n                token._id = u._id?.toString();\n                token.name = u.name;\n                token.email = u.email;\n                token.rollNo = u.rollNo;\n                token.role = u.role;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (session.user) {\n                session.user._id = token._id;\n                session.user.name = token.name;\n                session.user.email = token.email;\n                session.user.rollNo = token.rollNo;\n                session.user.role = token.role;\n            }\n            return session;\n        }\n    },\n    session: {\n        strategy: \"jwt\"\n    },\n    secret: process.env.NEXTAUTH_SECRET\n};\nconst handler = next_auth__WEBPACK_IMPORTED_MODULE_0___default()(authOptions);\nconst allowedOrigins = [\n    \"http://localhost:3000\" || 0,\n    \"http://localhost:3000\"\n];\n// CORS wrapper\nfunction setCorsHeaders(res, origin) {\n    res.headers.set(\"Access-Control-Allow-Origin\", origin);\n    res.headers.set(\"Access-Control-Allow-Credentials\", \"true\");\n    res.headers.set(\"Access-Control-Allow-Methods\", \"GET,POST,OPTIONS\");\n    res.headers.set(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\n}\nasync function OPTIONS(req) {\n    const origin = req.headers.get(\"origin\") || allowedOrigins[0];\n    const res = next_server__WEBPACK_IMPORTED_MODULE_7__.NextResponse.json(null, {\n        status: 204\n    });\n    setCorsHeaders(res, allowedOrigins.includes(origin) ? origin : allowedOrigins[0]);\n    return res;\n}\nasync function GET(req) {\n    const origin = req.headers.get(\"origin\") || allowedOrigins[0];\n    const res = await handler(req, {});\n    setCorsHeaders(res, allowedOrigins.includes(origin) ? origin : allowedOrigins[0]);\n    return res;\n}\nasync function POST(req) {\n    const origin = req.headers.get(\"origin\") || allowedOrigins[0];\n    const res = await handler(req, {});\n    setCorsHeaders(res, allowedOrigins.includes(origin) ? origin : allowedOrigins[0]);\n    return res;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9vcHRpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHlEQUF5RDtBQUN6RCxxRUFBcUU7QUFDckUsMkRBQTJEO0FBQzNELDJEQUEyRDtBQUMzRCxpQ0FBaUM7QUFDakMsb0NBQW9DO0FBQ3BDLGtEQUFrRDtBQUdsRCxnREFBZ0Q7QUFDaEQsaUJBQWlCO0FBQ2pCLHVCQUF1QjtBQUN2QixpREFBaUQ7QUFDakQseURBQXlEO0FBQ3pELFVBQVU7QUFFVix1QkFBdUI7QUFDdkIsaURBQWlEO0FBQ2pELHlEQUF5RDtBQUN6RCxVQUFVO0FBRVYsNEJBQTRCO0FBQzVCLDJCQUEyQjtBQUMzQiw2QkFBNkI7QUFDN0IsdUJBQXVCO0FBQ3ZCLG1FQUFtRTtBQUNuRSw2REFBNkQ7QUFDN0QsV0FBVztBQUNYLDBEQUEwRDtBQUMxRCw2QkFBNkI7QUFFN0IsZ0JBQWdCO0FBQ2hCLG1EQUFtRDtBQUNuRCxxQkFBcUI7QUFDckIsbURBQW1EO0FBQ25ELG9EQUFvRDtBQUNwRCxpQkFBaUI7QUFDakIsZ0JBQWdCO0FBRWhCLHlCQUF5QjtBQUN6Qix5RUFBeUU7QUFDekUsY0FBYztBQUVkLDBEQUEwRDtBQUMxRCxvQ0FBb0M7QUFDcEMsNEJBQTRCO0FBQzVCLGVBQWU7QUFFZixvQ0FBb0M7QUFDcEMsbURBQW1EO0FBQ25ELGNBQWM7QUFFZCx5QkFBeUI7QUFDekIsK0JBQStCO0FBQy9CLHFFQUFxRTtBQUNyRSxZQUFZO0FBQ1osV0FBVztBQUNYLFVBQVU7QUFDVixPQUFPO0FBRVAsYUFBYTtBQUNiLDhCQUE4QjtBQUM5QixPQUFPO0FBR1AsaUJBQWlCO0FBQ2pCLGlDQUFpQztBQUNqQywySUFBMkk7QUFDM0ksa0JBQWtCO0FBQ2xCLDJDQUEyQztBQUMzQyx1Q0FBdUM7QUFDdkMsNkJBQTZCO0FBQzdCLCtCQUErQjtBQUMvQixpQ0FBaUM7QUFDakMsc0VBQXNFO0FBQ3RFLGlDQUFpQztBQUNqQyxxQ0FB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LE1BQU07UUFBRUMsUUFBUTtJQUFJO0lBQ2xEVCxlQUFlQyxLQUFLSCxlQUFlWSxRQUFRLENBQUNSLFVBQVVBLFNBQVNKLGNBQWMsQ0FBQyxFQUFFO0lBQ2hGLE9BQU9HO0FBQ1Q7QUFFTyxlQUFlVSxJQUFJTCxHQUFnQjtJQUN4QyxNQUFNSixTQUFTSSxJQUFJSCxPQUFPLENBQUNJLEdBQUcsQ0FBQyxhQUFhVCxjQUFjLENBQUMsRUFBRTtJQUM3RCxNQUFNRyxNQUFNLE1BQU1KLFFBQVFTLEtBQVksQ0FBQztJQUN2Q04sZUFBZUMsS0FBcUJILGVBQWVZLFFBQVEsQ0FBQ1IsVUFBVUEsU0FBU0osY0FBYyxDQUFDLEVBQUU7SUFDaEcsT0FBT0c7QUFDVDtBQUVPLGVBQWVXLEtBQUtOLEdBQWdCO0lBQ3pDLE1BQU1KLFNBQVNJLElBQUlILE9BQU8sQ0FBQ0ksR0FBRyxDQUFDLGFBQWFULGNBQWMsQ0FBQyxFQUFFO0lBQzdELE1BQU1HLE1BQU0sTUFBTUosUUFBUVMsS0FBWSxDQUFDO0lBQ3ZDTixlQUFlQyxLQUFxQkgsZUFBZVksUUFBUSxDQUFDUixVQUFVQSxTQUFTSixjQUFjLENBQUMsRUFBRTtJQUNoRyxPQUFPRztBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1tYW5hZ2VtZW50Ly4vYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vb3B0aW9uLnRzP2UyNjIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IE5leHRBdXRoLCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gXCJuZXh0LWF1dGhcIjtcbi8vIGltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzXCI7XG4vLyBpbXBvcnQgR2l0aHViUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvZ2l0aHViXCI7XG4vLyBpbXBvcnQgR29vZ2xlUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvZ29vZ2xlXCI7XG4vLyBpbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRqc1wiO1xuLy8gaW1wb3J0IGRiQ29ubmVjdCBmcm9tIFwiQC9saWIvZGJcIjtcbi8vIGltcG9ydCBVc2VyTW9kZWwsIHsgVXNlciB9IGZyb20gXCJAL21vZGVsL1VzZXJcIjtcblxuXG4vLyBleHBvcnQgY29uc3QgYXV0aE9wdGlvbnM6IE5leHRBdXRoT3B0aW9ucyA9IHtcbi8vICAgcHJvdmlkZXJzOiBbXG4vLyAgICAgR2l0aHViUHJvdmlkZXIoe1xuLy8gICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkdJVEhVQl9DTElFTlRfSUQhLFxuLy8gICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HSVRIVUJfQ0xJRU5UX1NFQ1JFVCEsXG4vLyAgICAgfSksXG5cbi8vICAgICBHb29nbGVQcm92aWRlcih7XG4vLyAgICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCEsXG4vLyAgICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfU0VDUkVUISxcbi8vICAgICB9KSxcblxuLy8gICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xuLy8gICAgICAgaWQ6IFwiY3JlZGVudGlhbHNcIixcbi8vICAgICAgIG5hbWU6IFwiQ3JlZGVudGlhbHNcIixcbi8vICAgICAgIGNyZWRlbnRpYWxzOiB7XG4vLyAgICAgICAgIGlkZW50aWZpZXI6IHsgbGFiZWw6IFwiRW1haWwgb3IgUm9sbCBOb1wiLCB0eXBlOiBcInRleHRcIiB9LFxuLy8gICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogXCJQYXNzd29yZFwiLCB0eXBlOiBcInBhc3N3b3JkXCIgfSxcbi8vICAgICAgIH0sXG4vLyAgICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHM6IGFueSk6IFByb21pc2U8YW55PiB7XG4vLyAgICAgICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xuXG4vLyAgICAgICAgIHRyeSB7XG4vLyAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHtcbi8vICAgICAgICAgICAgICRvcjogW1xuLy8gICAgICAgICAgICAgICB7IGVtYWlsOiBjcmVkZW50aWFscy5pZGVudGlmaWVyIH0sXG4vLyAgICAgICAgICAgICAgIHsgcm9sbE5vOiBjcmVkZW50aWFscy5pZGVudGlmaWVyIH0sXG4vLyAgICAgICAgICAgICBdLFxuLy8gICAgICAgICAgIH0pO1xuXG4vLyAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4vLyAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB1c2VyIGZvdW5kIHdpdGggdGhpcyBFbWFpbC9Sb2xsIE5vLlwiKTtcbi8vICAgICAgICAgICB9XG5cbi8vICAgICAgICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShcbi8vICAgICAgICAgICAgIGNyZWRlbnRpYWxzLnBhc3N3b3JkLFxuLy8gICAgICAgICAgICAgdXNlci5wYXNzd29yZFxuLy8gICAgICAgICAgICk7XG5cbi8vICAgICAgICAgICBpZiAoIWlzUGFzc3dvcmRWYWxpZCkge1xuLy8gICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXNzd29yZFwiKTtcbi8vICAgICAgICAgICB9XG5cbi8vICAgICAgICAgICByZXR1cm4gdXNlcjtcbi8vICAgICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbi8vICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UgfHwgXCJBdXRoZW50aWNhdGlvbiBmYWlsZWRcIik7XG4vLyAgICAgICAgIH1cbi8vICAgICAgIH0sXG4vLyAgICAgfSksXG4vLyAgIF0sXG5cbi8vICAgcGFnZXM6IHtcbi8vICAgICBzaWduSW46IFwiL2F1dGgvc2lnbmluXCIsXG4vLyAgIH0sXG5cblxuLy8gICBjYWxsYmFja3M6IHtcbi8vICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIgfSkge1xuLy8gICAgICAgY29uc3QgdmFsaWRyb2xlcyA9IFtcIkFkbWluXCIsIFwiTGVhZFwiLCBcIk1lbWJlclwiLCBcIlByb2plY3RMZWFkXCIgLCBcIkNvTGVhZFwiICwgXCJtZW1iZXJcIiAsIFwibGVhZFwiICwgXCJhZG1pblwiICwgXCJwcm9qZWN0bGVhZFwiICwgXCJjb2xlYWRcIl07XG4vLyAgICAgaWYgKHVzZXIpIHtcbi8vICAgICAgIGNvbnN0IHUgPSB1c2VyIGFzIHVua25vd24gYXMgVXNlcjtcbi8vICAgICAgIHRva2VuLl9pZCA9IHUuX2lkPy50b1N0cmluZygpO1xuLy8gICAgICAgdG9rZW4ubmFtZSA9IHUubmFtZTtcbi8vICAgICAgIHRva2VuLmVtYWlsID0gdS5lbWFpbDtcbi8vICAgICAgIHRva2VuLnJvbGxObyA9IHUucm9sbE5vO1xuLy8gICAgICAgdG9rZW4ucm9sZSA9IHZhbGlkcm9sZXMuaW5jbHVkZXModS5yb2xlKSA/IHUucm9sZSA6IFwiTWVtYmVyXCI7XG4vLyAgICAgICB0b2tlbi5kb21haW4gPSB1LmRvbWFpbjtcbi8vICAgICAgIHRva2VuLmdpdGh1YklkID0gdS5naXRodWJJZDtcbi8vICAgICAgIHRva2VuLmxpbmtlZGluSWQgPSB1LmxpbmtlZGluSWQ7XG4vLyAgICAgfVxuLy8gICAgIHJldHVybiB0b2tlbjsgICBcbi8vICAgfSwgXG5cbi8vICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcbi8vICAgICBpZiAodG9rZW4gJiYgc2Vzc2lvbi51c2VyKSB7XG4vLyAgICAgICBzZXNzaW9uLnVzZXIuX2lkID0gdG9rZW4uX2lkIGFzIHN0cmluZztcbi8vICAgICAgIHNlc3Npb24udXNlci5uYW1lID0gdG9rZW4ubmFtZSBhcyBzdHJpbmc7XG4vLyAgICAgICBzZXNzaW9uLnVzZXIuZW1haWwgPSB0b2tlbi5lbWFpbCBhcyBzdHJpbmc7XG4vLyAgICAgICBzZXNzaW9uLnVzZXIucm9sbE5vID0gdG9rZW4ucm9sbE5vIGFzIHN0cmluZztcbi8vICAgICAgIHNlc3Npb24udXNlci5yb2xlID0gIHRva2VuLnJvbGUgYXMgc3RyaW5nO1xuLy8gICAgICAgc2Vzc2lvbi51c2VyLmRvbWFpbiA9IHRva2VuLmRvbWFpbiBhcyBzdHJpbmc7XG4vLyAgICAgICBzZXNzaW9uLnVzZXIuZ2l0aHViSWQgPSB0b2tlbi5naXRodWJJZCBhcyBzdHJpbmc7XG4vLyAgICAgICBzZXNzaW9uLnVzZXIubGlua2VkaW5JZCA9IHRva2VuLmxpbmtlZGluSWQgYXMgc3RyaW5nO1xuLy8gICAgIH1cbi8vICAgICByZXR1cm4gc2Vzc2lvbjtcbi8vICAgfSxcbi8vIH0sXG5cbi8vICAgc2Vzc2lvbjoge1xuLy8gICAgIHN0cmF0ZWd5OiBcImp3dFwiLFxuLy8gICB9LFxuXG4vLyAgIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxuLy8gfTtcblxuLy8gY29uc3QgaGFuZGxlciA9IE5leHRBdXRoKGF1dGhPcHRpb25zKSBhcyBhbnk7XG5cbi8vIC8vIENPUlMgaGVscGVyIOKAlCBtaXJyb3JzIG1pZGRsZXdhcmUgb3JpZ2luIGhhbmRsaW5nIGJ1dCB1c2FibGUgaGVyZVxuLy8gZnVuY3Rpb24gYnVpbGRDb3JzSGVhZGVyc0Zyb21SZXF1ZXN0KHJlcTogUmVxdWVzdCkge1xuLy8gICBjb25zdCBhbGxvd2VkT3JpZ2lucyA9IFtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQVNFX1VSTCB8fCAnaHR0cHM6Ly93b3JrcGlsb3QtZi5vbnJlbmRlci5jb20nXTtcbi8vICAgY29uc3Qgb3JpZ2luID0gcmVxLmhlYWRlcnMuZ2V0KCdvcmlnaW4nKSB8fCBhbGxvd2VkT3JpZ2luc1swXTtcbi8vICAgY29uc3QgYWxsb3dlZE9yaWdpbiA9IGFsbG93ZWRPcmlnaW5zLmluY2x1ZGVzKG9yaWdpbikgPyBvcmlnaW4gOiBhbGxvd2VkT3JpZ2luc1swXTtcbi8vICAgcmV0dXJuIHtcbi8vICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogYWxsb3dlZE9yaWdpbixcbi8vICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcyc6ICdHRVQsUE9TVCxQVVQsREVMRVRFLE9QVElPTlMnLFxuLy8gICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJzogJ0NvbnRlbnQtVHlwZSwgQXV0aG9yaXphdGlvbicsXG4vLyAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJzogJ3RydWUnLFxuLy8gICB9IGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4vLyB9XG5cbi8vIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBPUFRJT05TKHJlcTogUmVxdWVzdCkge1xuLy8gICBjb25zdCBoZWFkZXJzID0gYnVpbGRDb3JzSGVhZGVyc0Zyb21SZXF1ZXN0KHJlcSk7XG4vLyAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwgeyBzdGF0dXM6IDIwNCwgaGVhZGVycyB9KTtcbi8vIH1cblxuLy8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXE6IFJlcXVlc3QpIHtcbi8vICAgLy8gY2FsbCBOZXh0QXV0aCBoYW5kbGVyIGFuZCBhdHRhY2ggQ09SUyBoZWFkZXJzXG4vLyAgIGNvbnN0IHJlc3A6IFJlc3BvbnNlID0gYXdhaXQgaGFuZGxlcihyZXEpO1xuLy8gICBjb25zdCBoZWFkZXJzID0gYnVpbGRDb3JzSGVhZGVyc0Zyb21SZXF1ZXN0KHJlcSk7XG4vLyAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpKSB7XG4vLyAgICAgcmVzcC5oZWFkZXJzLnNldChrLCB2KTtcbi8vICAgfVxuLy8gICByZXR1cm4gcmVzcDtcbi8vIH1cblxuLy8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0KSB7XG4vLyAgIGNvbnN0IHJlc3A6IFJlc3BvbnNlID0gYXdhaXQgaGFuZGxlcihyZXEpO1xuLy8gICBjb25zdCBoZWFkZXJzID0gYnVpbGRDb3JzSGVhZGVyc0Zyb21SZXF1ZXN0KHJlcSk7XG4vLyAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpKSB7XG4vLyAgICAgcmVzcC5oZWFkZXJzLnNldChrLCB2KTtcbi8vICAgfVxuLy8gICByZXR1cm4gcmVzcDtcbi8vIH1cbmltcG9ydCBOZXh0QXV0aCwgeyBOZXh0QXV0aE9wdGlvbnMgfSBmcm9tIFwibmV4dC1hdXRoXCI7XG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFsc1wiO1xuaW1wb3J0IEdvb2dsZVByb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2dvb2dsZVwiO1xuaW1wb3J0IEdpdGh1YlByb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2dpdGh1YlwiO1xuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIjtcbmltcG9ydCBkYkNvbm5lY3QgZnJvbSBcIkAvbGliL2RiXCI7XG5pbXBvcnQgVXNlck1vZGVsLCB7IFVzZXIgfSBmcm9tIFwiQC9tb2RlbC9Vc2VyXCI7XG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5cbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xuICBwcm92aWRlcnM6IFtcbiAgICBHaXRodWJQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR0lUSFVCX0NMSUVOVF9JRCEsXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdJVEhVQl9DTElFTlRfU0VDUkVUISxcbiAgICB9KSxcbiAgICBHb29nbGVQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCEsXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfU0VDUkVUISxcbiAgICB9KSxcbiAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcbiAgICAgIGlkOiBcImNyZWRlbnRpYWxzXCIsXG4gICAgICBuYW1lOiBcIkNyZWRlbnRpYWxzXCIsXG4gICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICBpZGVudGlmaWVyOiB7IGxhYmVsOiBcIkVtYWlsIG9yIFJvbGwgTm9cIiwgdHlwZTogXCJ0ZXh0XCIgfSxcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6IFwiUGFzc3dvcmRcIiwgdHlwZTogXCJwYXNzd29yZFwiIH0sXG4gICAgICB9LFxuICAgICAgYXN5bmMgYXV0aG9yaXplKGNyZWRlbnRpYWxzOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICBhd2FpdCBkYkNvbm5lY3QoKTtcbiAgICAgICAgY29uc3QgdXNlckRvYyA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHtcbiAgICAgICAgICAkb3I6IFtcbiAgICAgICAgICAgIHsgZW1haWw6IGNyZWRlbnRpYWxzPy5pZGVudGlmaWVyIH0sXG4gICAgICAgICAgICB7IHJvbGxObzogY3JlZGVudGlhbHM/LmlkZW50aWZpZXIgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KS5sZWFuKCkgYXMgYW55O1xuICAgICAgICBpZiAoIXVzZXJEb2MpIHRocm93IG5ldyBFcnJvcihcIk5vIHVzZXIgZm91bmRcIik7XG4gICAgICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShjcmVkZW50aWFscyEucGFzc3dvcmQsIHVzZXJEb2MucGFzc3dvcmQpO1xuICAgICAgICBpZiAoIWlzVmFsaWQpIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFzc3dvcmRcIik7XG4gICAgICAgIGNvbnN0IHVzZXI6IFVzZXIgPSB7XG4gICAgICAgICAgLi4udXNlckRvYyxcbiAgICAgICAgICBfaWQ6IHVzZXJEb2MuX2lkLnRvU3RyaW5nKCksXG4gICAgICAgIH0gYXMgVXNlcjtcbiAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgICB9LFxuICAgIH0pLFxuICBdLFxuICBjYWxsYmFja3M6IHtcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciB9KSB7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICBjb25zdCB1ID0gdXNlciBhcyB1bmtub3duIGFzIFVzZXI7XG4gICAgICAgIHRva2VuLl9pZCA9IHUuX2lkPy50b1N0cmluZygpO1xuICAgICAgICB0b2tlbi5uYW1lID0gdS5uYW1lO1xuICAgICAgICB0b2tlbi5lbWFpbCA9IHUuZW1haWw7XG4gICAgICAgIHRva2VuLnJvbGxObyA9IHUucm9sbE5vO1xuICAgICAgICB0b2tlbi5yb2xlID0gdS5yb2xlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcbiAgICAgIGlmIChzZXNzaW9uLnVzZXIpIHtcbiAgICAgICAgc2Vzc2lvbi51c2VyLl9pZCA9IHRva2VuLl9pZCBhcyBzdHJpbmc7XG4gICAgICAgIHNlc3Npb24udXNlci5uYW1lID0gdG9rZW4ubmFtZSBhcyBzdHJpbmc7XG4gICAgICAgIHNlc3Npb24udXNlci5lbWFpbCA9IHRva2VuLmVtYWlsIGFzIHN0cmluZztcbiAgICAgICAgc2Vzc2lvbi51c2VyLnJvbGxObyA9IHRva2VuLnJvbGxObyBhcyBzdHJpbmc7XG4gICAgICAgIHNlc3Npb24udXNlci5yb2xlID0gdG9rZW4ucm9sZSBhcyBzdHJpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICB9LFxuICB9LFxuICBzZXNzaW9uOiB7IHN0cmF0ZWd5OiBcImp3dFwiIH0sXG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxufTtcblxuY29uc3QgaGFuZGxlciA9IE5leHRBdXRoKGF1dGhPcHRpb25zKTtcblxuY29uc3QgYWxsb3dlZE9yaWdpbnMgPSBbXG4gIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBU0VfVVJMIHx8IFwiaHR0cHM6Ly93b3JrcGlsb3QtZi5vbnJlbmRlci5jb21cIixcbiAgXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIixcbl07XG5cbi8vIENPUlMgd3JhcHBlclxuZnVuY3Rpb24gc2V0Q29yc0hlYWRlcnMocmVzOiBOZXh0UmVzcG9uc2UsIG9yaWdpbjogc3RyaW5nKSB7XG4gIHJlcy5oZWFkZXJzLnNldChcIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpblwiLCBvcmlnaW4pO1xuICByZXMuaGVhZGVycy5zZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFsc1wiLCBcInRydWVcIik7XG4gIHJlcy5oZWFkZXJzLnNldChcIkFjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHNcIiwgXCJHRVQsUE9TVCxPUFRJT05TXCIpO1xuICByZXMuaGVhZGVycy5zZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzXCIsIFwiQ29udGVudC1UeXBlLCBBdXRob3JpemF0aW9uXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gT1BUSU9OUyhyZXE6IE5leHRSZXF1ZXN0KSB7XG4gIGNvbnN0IG9yaWdpbiA9IHJlcS5oZWFkZXJzLmdldChcIm9yaWdpblwiKSB8fCBhbGxvd2VkT3JpZ2luc1swXTtcbiAgY29uc3QgcmVzID0gTmV4dFJlc3BvbnNlLmpzb24obnVsbCwgeyBzdGF0dXM6IDIwNCB9KTtcbiAgc2V0Q29yc0hlYWRlcnMocmVzLCBhbGxvd2VkT3JpZ2lucy5pbmNsdWRlcyhvcmlnaW4pID8gb3JpZ2luIDogYWxsb3dlZE9yaWdpbnNbMF0pO1xuICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3Qgb3JpZ2luID0gcmVxLmhlYWRlcnMuZ2V0KFwib3JpZ2luXCIpIHx8IGFsbG93ZWRPcmlnaW5zWzBdO1xuICBjb25zdCByZXMgPSBhd2FpdCBoYW5kbGVyKHJlcSBhcyBhbnksIHt9IGFzIGFueSk7XG4gIHNldENvcnNIZWFkZXJzKHJlcyBhcyBOZXh0UmVzcG9uc2UsIGFsbG93ZWRPcmlnaW5zLmluY2x1ZGVzKG9yaWdpbikgPyBvcmlnaW4gOiBhbGxvd2VkT3JpZ2luc1swXSk7XG4gIHJldHVybiByZXM7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3Qgb3JpZ2luID0gcmVxLmhlYWRlcnMuZ2V0KFwib3JpZ2luXCIpIHx8IGFsbG93ZWRPcmlnaW5zWzBdO1xuICBjb25zdCByZXMgPSBhd2FpdCBoYW5kbGVyKHJlcSBhcyBhbnksIHt9IGFzIGFueSk7XG4gIHNldENvcnNIZWFkZXJzKHJlcyBhcyBOZXh0UmVzcG9uc2UsIGFsbG93ZWRPcmlnaW5zLmluY2x1ZGVzKG9yaWdpbikgPyBvcmlnaW4gOiBhbGxvd2VkT3JpZ2luc1swXSk7XG4gIHJldHVybiByZXM7XG59XG4iXSwibmFtZXMiOlsiTmV4dEF1dGgiLCJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiR29vZ2xlUHJvdmlkZXIiLCJHaXRodWJQcm92aWRlciIsImJjcnlwdCIsImRiQ29ubmVjdCIsIlVzZXJNb2RlbCIsIk5leHRSZXNwb25zZSIsImF1dGhPcHRpb25zIiwicHJvdmlkZXJzIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiR0lUSFVCX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkdJVEhVQl9DTElFTlRfU0VDUkVUIiwiR09PR0xFX0NMSUVOVF9JRCIsIkdPT0dMRV9DTElFTlRfU0VDUkVUIiwiaWQiLCJuYW1lIiwiY3JlZGVudGlhbHMiLCJpZGVudGlmaWVyIiwibGFiZWwiLCJ0eXBlIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJ1c2VyRG9jIiwiZmluZE9uZSIsIiRvciIsImVtYWlsIiwicm9sbE5vIiwibGVhbiIsIkVycm9yIiwiaXNWYWxpZCIsImNvbXBhcmUiLCJ1c2VyIiwiX2lkIiwidG9TdHJpbmciLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiIsInUiLCJyb2xlIiwic2Vzc2lvbiIsInN0cmF0ZWd5Iiwic2VjcmV0IiwiTkVYVEFVVEhfU0VDUkVUIiwiaGFuZGxlciIsImFsbG93ZWRPcmlnaW5zIiwiTkVYVF9QVUJMSUNfQkFTRV9VUkwiLCJzZXRDb3JzSGVhZGVycyIsInJlcyIsIm9yaWdpbiIsImhlYWRlcnMiLCJzZXQiLCJPUFRJT05TIiwicmVxIiwiZ2V0IiwianNvbiIsInN0YXR1cyIsImluY2x1ZGVzIiwiR0VUIiwiUE9TVCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/[...nextauth]/option.ts\n");

/***/ }),

/***/ "(rsc)/./app/api/projects/route.ts":
/*!***********************************!*\
  !*** ./app/api/projects/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var _model_Projects__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/model/Projects */ \"(rsc)/./model/Projects.ts\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/model/User */ \"(rsc)/./model/User.ts\");\n/* harmony import */ var _auth_nextauth_option__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../auth/[...nextauth]/option */ \"(rsc)/./app/api/auth/[...nextauth]/option.ts\");\n/* harmony import */ var _lib_permissions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/permissions */ \"(rsc)/./lib/permissions.ts\");\n/* harmony import */ var _lib_cloudinary__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/cloudinary */ \"(rsc)/./lib/cloudinary.ts\");\n/* harmony import */ var _lib_cors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/cors */ \"(rsc)/./lib/cors.ts\");\n// export const dynamic = \"force-dynamic\";\n// import { NextResponse } from \"next/server\";\n// import { getServerSession } from \"next-auth\";\n// import mongoose from \"mongoose\";\n// import dbConnect from \"@/lib/db\";\n// import ProjectModel from \"@/model/Projects\";\n// import UserModel from \"@/model/User\";\n// import { authOptions } from \"../auth/[...nextauth]/option\";\n// import { canProject } from \"@/lib/permissions\";\n// import fs from \"fs\";\n// import path from \"path\";\n// async function resolveUserIdentifier(val: any) {\n//   if (!val && val !== 0) return null;\n//   if (typeof val === \"string\") {\n//     const trimmed = val.trim();\n//     if (mongoose.Types.ObjectId.isValid(trimmed)) {\n//       const user = await UserModel.findById(trimmed);\n//       if (user) return user._id;\n//     }\n//     const user = await UserModel.findOne({\n//       $or: [{ name: trimmed }, { email: trimmed }, { rollNo: trimmed }],\n//     });\n//     if (user) return user._id;\n//   }\n//   if (typeof val === \"object\" && val?._id && mongoose.Types.ObjectId.isValid(String(val._id))) {\n//     return val._id;\n//   }\n//   return null;\n// }\n// export async function GET() {\n//   try {\n//     await dbConnect();\n//     const projects = await ProjectModel.find()\n//       .sort({ createdAt: -1 })\n//       .populate(\"projectlead\", \"name email role\")\n//       .populate(\"colead\", \"name email role\")\n//       .populate(\"members\", \"name email role\")\n//       .lean();\n//     const formatted = projects.map((p: any) => {\n//       const out: any = { ...p };\n//       out.id = String(p._id); \n//       out.startDate = p.startDate || null;\n//       out.completionDate = p.completionDate || null;\n//       if (p.projectlead) {\n//         out.projectlead = {\n//           _id: String(p.projectlead._id || p.projectlead),\n//           name: p.projectlead.name || String(p.projectlead),\n//           email: p.projectlead.email || undefined,\n//           role: p.projectlead.role || undefined,\n//         };\n//       }\n//       if (p.colead) {\n//         out.colead = {\n//           _id: String(p.colead._id || p.colead),\n//           name: p.colead.name || String(p.colead),\n//           email: p.colead.email || undefined,\n//           role: p.colead.role || undefined,\n//         };\n//       }\n//       if (Array.isArray(p.members)) {\n//         out.members = p.members.map((m: any) => ({\n//           _id: String(m._id || m),\n//           name: m.name || String(m),\n//           email: m.email || undefined,\n//           role: m.role || undefined,\n//         }));\n//       }\n//       return out;\n//     });\n//     return NextResponse.json(formatted);\n//   } catch (error) {\n//     console.error(\"Error fetching projects:\", error);\n//     return NextResponse.json(\n//       { message: \"Error fetching projects\", error },\n//       { status: 500 }\n//     );\n//   }\n// }\n// export async function POST(req: Request) {\n//   try {\n//     await dbConnect();\n//     const session = await getServerSession(authOptions);\n//     if (!session?.user) {\n//       return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n//     }\n//     if (!canProject(session.user.role, \"create\")) {\n//       return NextResponse.json({ error: \"Forbidden\" }, { status: 403 });\n//     }\n//     const formData = await req.formData();\n//     const title = (formData.get(\"title\") as string)?.trim();\n//     const description = (formData.get(\"description\") as string)?.trim();\n//     const projectleadVal = formData.get(\"projectlead\");\n//     const coleadVal = formData.get(\"colead\");\n//     const github = (formData.get(\"github\") as string) || \"\";\n//     const liveDemo = (formData.get(\"liveDemo\") as string) || \"\";\n//     const badge = (formData.get(\"badge\") as string) || \"active\";\n//     const approved = formData.get(\"approved\") === \"true\";\n//     const domainRaw = formData.get(\"domain\") as string;\n//     const startDateRaw = formData.get(\"startDate\") as string;\n//     const completionDateRaw = formData.get(\"completionDate\") as string;\n//     const imageFile = formData.get(\"image\") as File | null;\n//     if (!title || !description || !domainRaw) {\n//       return NextResponse.json({ error: \"Missing required fields\" }, { status: 400 });\n//     }\n//     const domain = JSON.parse(domainRaw);\n//     if (!Array.isArray(domain) || !domain.length) {\n//       return NextResponse.json({ error: \"Invalid domain data\" }, { status: 400 });\n//     }\n//     if (title.length < 3) {\n//       return NextResponse.json({ error: \"Title must be at least 3 characters\" }, { status: 400 });\n//     }\n//     if (description.length < 10) {\n//       return NextResponse.json({ error: \"Description must be at least 10 characters\" }, { status: 400 });\n//     }\n//     const projectleadId = await resolveUserIdentifier(projectleadVal || session.user._id);\n//     if (!projectleadId) {\n//       return NextResponse.json({ error: \"Team lead not found\" }, { status: 400 });\n//     }\n//     let coleadId: mongoose.Types.ObjectId | undefined = undefined;\n//     if (coleadVal) {\n//       coleadId = await resolveUserIdentifier(coleadVal);\n//       if (!coleadId) {\n//         return NextResponse.json({ error: \"Assistant lead not found\" }, { status: 400 });\n//       }\n//     }\n//     let imageUrl: string | undefined = undefined;\n//     if (imageFile) {\n//       const bytes = await imageFile.arrayBuffer();\n//       const buffer = Buffer.from(bytes);\n//       const fileName = `${Date.now()}-${imageFile.name}`;\n//       const uploadDir = path.join(process.cwd(), \"public\", \"uploads\");\n//       if (!fs.existsSync(uploadDir)) {\n//         fs.mkdirSync(uploadDir, { recursive: true });\n//       }\n//       const filePath = path.join(uploadDir, fileName);\n//       await fs.promises.writeFile(filePath, buffer);\n//       imageUrl = `/uploads/${fileName}`;\n//     }\n//     const startDate = startDateRaw ? new Date(startDateRaw) : new Date();\n//     const completionDate = completionDateRaw\n//       ? new Date(completionDateRaw)\n//       : new Date(startDate.getTime() + 30 * 24 * 60 * 60 * 1000);\n//     if (completionDate < startDate) {\n//       return NextResponse.json(\n//         { error: \"Completion date cannot be before start date\" },\n//         { status: 400 }\n//       );\n//     }\n//     const project = await ProjectModel.create({\n//       title,\n//       description,\n//       domain,\n//       image: imageUrl,\n//       projectlead: projectleadId,\n//       colead: coleadId,\n//       members: [],\n//       membersCount: 1,\n//       github: github || undefined,\n//       liveDemo: liveDemo || undefined,\n//       badge,\n//       approved,\n//       enrolled: false,\n//       startDate,\n//       completionDate,\n//     });\n//     return NextResponse.json(project, { status: 201 });\n//   } catch (error) {\n//     console.error(\"Error creating project:\", error);\n//     return NextResponse.json(\n//       { error: \"Failed to create project\", details: String(error) },\n//       { status: 500 }\n//     );\n//   }\n// }\nconst dynamic = \"force-dynamic\";\n\n\n\n\n\n\n\n\n\nasync function OPTIONS() {\n    return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.handleOptions)();\n}\nasync function resolveUserIdentifier(val) {\n    if (!val && val !== 0) return null;\n    if (typeof val === \"string\") {\n        const trimmed = val.trim();\n        if (mongoose__WEBPACK_IMPORTED_MODULE_1___default().Types.ObjectId.isValid(trimmed)) {\n            const user = await _model_User__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findById(trimmed);\n            if (user) return user._id;\n        }\n        const user = await _model_User__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findOne({\n            $or: [\n                {\n                    name: trimmed\n                },\n                {\n                    email: trimmed\n                },\n                {\n                    rollNo: trimmed\n                }\n            ]\n        });\n        if (user) return user._id;\n    }\n    if (typeof val === \"object\" && val?._id && mongoose__WEBPACK_IMPORTED_MODULE_1___default().Types.ObjectId.isValid(String(val._id))) {\n        return val._id;\n    }\n    return null;\n}\nasync function GET() {\n    try {\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n        const projects = await _model_Projects__WEBPACK_IMPORTED_MODULE_3__[\"default\"].find().sort({\n            createdAt: -1\n        }).populate(\"projectlead\", \"name email role profilePic\").populate(\"colead\", \"name email role profilePic\").populate(\"members\", \"name email role profilePic\").lean();\n        const formatted = projects.map((p)=>({\n                ...p,\n                id: String(p._id),\n                startDate: p.startDate || null,\n                completionDate: p.completionDate || null,\n                projectlead: p.projectlead ? {\n                    _id: String(p.projectlead._id),\n                    name: p.projectlead.name,\n                    email: p.projectlead.email,\n                    role: p.projectlead.role\n                } : null,\n                colead: p.colead ? {\n                    _id: String(p.colead._id),\n                    name: p.colead.name,\n                    email: p.colead.email,\n                    role: p.colead.role\n                } : null,\n                members: Array.isArray(p.members) ? p.members.map((m)=>({\n                        _id: String(m._id),\n                        name: m.name,\n                        email: m.email,\n                        role: m.role\n                    })) : []\n            }));\n        return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.corsResponse)(formatted, 200);\n    } catch (error) {\n        console.error(\"Error fetching projects:\", error);\n        return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.corsResponse)({\n            message: \"Error fetching projects\",\n            error\n        }, 500);\n    }\n}\nasync function POST(req) {\n    try {\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_0__.getServerSession)(_auth_nextauth_option__WEBPACK_IMPORTED_MODULE_5__.authOptions);\n        if (!session?.user) return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.corsResponse)({\n            error: \"Unauthorized\"\n        }, 401);\n        if (!(0,_lib_permissions__WEBPACK_IMPORTED_MODULE_6__.canProject)(session.user.role, \"create\")) return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.corsResponse)({\n            error: \"Forbidden\"\n        }, 403);\n        const formData = await req.formData();\n        const title = formData.get(\"title\")?.trim();\n        const description = formData.get(\"description\")?.trim();\n        const projectleadVal = formData.get(\"projectlead\");\n        const coleadVal = formData.get(\"colead\");\n        const github = formData.get(\"github\") || \"\";\n        const liveDemo = formData.get(\"liveDemo\") || \"\";\n        const badge = formData.get(\"badge\") || \"active\";\n        const approved = formData.get(\"approved\") === \"true\";\n        const domainRaw = formData.get(\"domain\");\n        const startDateRaw = formData.get(\"startDate\");\n        const completionDateRaw = formData.get(\"completionDate\");\n        const imageFile = formData.get(\"image\");\n        if (!title || !description || !domainRaw) return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.corsResponse)({\n            error: \"Missing required fields\"\n        }, 400);\n        const domain = JSON.parse(domainRaw);\n        if (!Array.isArray(domain) || !domain.length) return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.corsResponse)({\n            error: \"Invalid domain data\"\n        }, 400);\n        if (title.length < 3) return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.corsResponse)({\n            error: \"Title must be at least 3 characters\"\n        }, 400);\n        if (description.length < 10) return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.corsResponse)({\n            error: \"Description must be at least 10 characters\"\n        }, 400);\n        const projectleadId = await resolveUserIdentifier(projectleadVal || session.user._id);\n        if (!projectleadId) return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.corsResponse)({\n            error: \"Team lead not found\"\n        }, 400);\n        let coleadId = undefined;\n        if (coleadVal) {\n            coleadId = await resolveUserIdentifier(coleadVal);\n            if (!coleadId) return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.corsResponse)({\n                error: \"Assistant lead not found\"\n            }, 400);\n        }\n        let imageUrl = undefined;\n        if (imageFile) {\n            const buffer = Buffer.from(await imageFile.arrayBuffer());\n            if (buffer.length > 5 * 1024 * 1024) {\n                return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.corsResponse)({\n                    error: \"Image size exceeds 5MB\"\n                }, 400);\n            }\n            const dataUrl = `data:${imageFile.type};base64,${buffer.toString(\"base64\")}`;\n            try {\n                const uploadResult = await _lib_cloudinary__WEBPACK_IMPORTED_MODULE_7__[\"default\"].uploader.upload(dataUrl, {\n                    folder: \"workpilot/project_images\",\n                    transformation: [\n                        {\n                            width: 800,\n                            height: 600,\n                            crop: \"fill\"\n                        }\n                    ]\n                });\n                imageUrl = uploadResult.secure_url;\n            } catch (err) {\n                console.error(\"Cloudinary upload failed:\", err);\n                return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.corsResponse)({\n                    error: \"Cloudinary upload failed\",\n                    details: String(err)\n                }, 500);\n            }\n        }\n        const startDate = startDateRaw ? new Date(startDateRaw) : new Date();\n        const completionDate = completionDateRaw ? new Date(completionDateRaw) : new Date(startDate.getTime() + 30 * 24 * 60 * 60 * 1000);\n        if (completionDate < startDate) return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.corsResponse)({\n            error: \"Completion date cannot be before start date\"\n        }, 400);\n        const project = await _model_Projects__WEBPACK_IMPORTED_MODULE_3__[\"default\"].create({\n            title,\n            description,\n            domain,\n            image: imageUrl,\n            projectlead: projectleadId,\n            colead: coleadId,\n            members: [],\n            membersCount: 1,\n            github,\n            liveDemo,\n            badge,\n            approved,\n            enrolled: false,\n            startDate,\n            completionDate\n        });\n        return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.corsResponse)(project, 201);\n    } catch (error) {\n        console.error(\"Error creating project:\", error);\n        return (0,_lib_cors__WEBPACK_IMPORTED_MODULE_8__.corsResponse)({\n            error: \"Failed to create project\",\n            details: String(error)\n        }, 500);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxDQUFDNkYsTUFBTSxDQUFDO1lBQ3hDMUM7WUFDQUU7WUFDQVc7WUFDQThCLE9BQU92QjtZQUNQbEMsYUFBYStCO1lBQ2I3QixRQUFROEI7WUFDUjdCLFNBQVMsRUFBRTtZQUNYdUQsY0FBYztZQUNkdkM7WUFDQUM7WUFDQUM7WUFDQUM7WUFDQXFDLFVBQVU7WUFDVjdEO1lBQ0FDO1FBQ0Y7UUFFQSxPQUFPL0IsdURBQVlBLENBQUN1RixTQUFTO0lBQy9CLEVBQUUsT0FBT2hELE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDJCQUEyQkE7UUFDekMsT0FBT3ZDLHVEQUFZQSxDQUFDO1lBQUV1QyxPQUFPO1lBQTRCNkMsU0FBU2xFLE9BQU9xQjtRQUFPLEdBQUc7SUFDckY7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtbWFuYWdlbWVudC8uL2FwcC9hcGkvcHJvamVjdHMvcm91dGUudHM/NDU0OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHBvcnQgY29uc3QgZHluYW1pYyA9IFwiZm9yY2UtZHluYW1pY1wiO1xuXG4vLyBpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbi8vIGltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tIFwibmV4dC1hdXRoXCI7XG4vLyBpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG4vLyBpbXBvcnQgZGJDb25uZWN0IGZyb20gXCJAL2xpYi9kYlwiO1xuLy8gaW1wb3J0IFByb2plY3RNb2RlbCBmcm9tIFwiQC9tb2RlbC9Qcm9qZWN0c1wiO1xuLy8gaW1wb3J0IFVzZXJNb2RlbCBmcm9tIFwiQC9tb2RlbC9Vc2VyXCI7XG4vLyBpbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gXCIuLi9hdXRoL1suLi5uZXh0YXV0aF0vb3B0aW9uXCI7XG4vLyBpbXBvcnQgeyBjYW5Qcm9qZWN0IH0gZnJvbSBcIkAvbGliL3Blcm1pc3Npb25zXCI7XG4vLyBpbXBvcnQgZnMgZnJvbSBcImZzXCI7XG4vLyBpbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuXG4vLyBhc3luYyBmdW5jdGlvbiByZXNvbHZlVXNlcklkZW50aWZpZXIodmFsOiBhbnkpIHtcbi8vICAgaWYgKCF2YWwgJiYgdmFsICE9PSAwKSByZXR1cm4gbnVsbDtcblxuLy8gICBpZiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIikge1xuLy8gICAgIGNvbnN0IHRyaW1tZWQgPSB2YWwudHJpbSgpO1xuXG4vLyAgICAgaWYgKG1vbmdvb3NlLlR5cGVzLk9iamVjdElkLmlzVmFsaWQodHJpbW1lZCkpIHtcbi8vICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZEJ5SWQodHJpbW1lZCk7XG4vLyAgICAgICBpZiAodXNlcikgcmV0dXJuIHVzZXIuX2lkO1xuLy8gICAgIH1cblxuLy8gICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7XG4vLyAgICAgICAkb3I6IFt7IG5hbWU6IHRyaW1tZWQgfSwgeyBlbWFpbDogdHJpbW1lZCB9LCB7IHJvbGxObzogdHJpbW1lZCB9XSxcbi8vICAgICB9KTtcbi8vICAgICBpZiAodXNlcikgcmV0dXJuIHVzZXIuX2lkO1xuLy8gICB9XG5cbi8vICAgaWYgKHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCIgJiYgdmFsPy5faWQgJiYgbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQuaXNWYWxpZChTdHJpbmcodmFsLl9pZCkpKSB7XG4vLyAgICAgcmV0dXJuIHZhbC5faWQ7XG4vLyAgIH1cblxuLy8gICByZXR1cm4gbnVsbDtcbi8vIH1cblxuLy8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcbi8vICAgdHJ5IHtcbi8vICAgICBhd2FpdCBkYkNvbm5lY3QoKTtcblxuLy8gICAgIGNvbnN0IHByb2plY3RzID0gYXdhaXQgUHJvamVjdE1vZGVsLmZpbmQoKVxuLy8gICAgICAgLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pXG4vLyAgICAgICAucG9wdWxhdGUoXCJwcm9qZWN0bGVhZFwiLCBcIm5hbWUgZW1haWwgcm9sZVwiKVxuLy8gICAgICAgLnBvcHVsYXRlKFwiY29sZWFkXCIsIFwibmFtZSBlbWFpbCByb2xlXCIpXG4vLyAgICAgICAucG9wdWxhdGUoXCJtZW1iZXJzXCIsIFwibmFtZSBlbWFpbCByb2xlXCIpXG4vLyAgICAgICAubGVhbigpO1xuXG4vLyAgICAgY29uc3QgZm9ybWF0dGVkID0gcHJvamVjdHMubWFwKChwOiBhbnkpID0+IHtcbi8vICAgICAgIGNvbnN0IG91dDogYW55ID0geyAuLi5wIH07XG4vLyAgICAgICBvdXQuaWQgPSBTdHJpbmcocC5faWQpOyBcbi8vICAgICAgIG91dC5zdGFydERhdGUgPSBwLnN0YXJ0RGF0ZSB8fCBudWxsO1xuLy8gICAgICAgb3V0LmNvbXBsZXRpb25EYXRlID0gcC5jb21wbGV0aW9uRGF0ZSB8fCBudWxsO1xuXG4vLyAgICAgICBpZiAocC5wcm9qZWN0bGVhZCkge1xuLy8gICAgICAgICBvdXQucHJvamVjdGxlYWQgPSB7XG4vLyAgICAgICAgICAgX2lkOiBTdHJpbmcocC5wcm9qZWN0bGVhZC5faWQgfHwgcC5wcm9qZWN0bGVhZCksXG4vLyAgICAgICAgICAgbmFtZTogcC5wcm9qZWN0bGVhZC5uYW1lIHx8IFN0cmluZyhwLnByb2plY3RsZWFkKSxcbi8vICAgICAgICAgICBlbWFpbDogcC5wcm9qZWN0bGVhZC5lbWFpbCB8fCB1bmRlZmluZWQsXG4vLyAgICAgICAgICAgcm9sZTogcC5wcm9qZWN0bGVhZC5yb2xlIHx8IHVuZGVmaW5lZCxcbi8vICAgICAgICAgfTtcbi8vICAgICAgIH1cblxuLy8gICAgICAgaWYgKHAuY29sZWFkKSB7XG4vLyAgICAgICAgIG91dC5jb2xlYWQgPSB7XG4vLyAgICAgICAgICAgX2lkOiBTdHJpbmcocC5jb2xlYWQuX2lkIHx8IHAuY29sZWFkKSxcbi8vICAgICAgICAgICBuYW1lOiBwLmNvbGVhZC5uYW1lIHx8IFN0cmluZyhwLmNvbGVhZCksXG4vLyAgICAgICAgICAgZW1haWw6IHAuY29sZWFkLmVtYWlsIHx8IHVuZGVmaW5lZCxcbi8vICAgICAgICAgICByb2xlOiBwLmNvbGVhZC5yb2xlIHx8IHVuZGVmaW5lZCxcbi8vICAgICAgICAgfTtcbi8vICAgICAgIH1cblxuLy8gICAgICAgaWYgKEFycmF5LmlzQXJyYXkocC5tZW1iZXJzKSkge1xuLy8gICAgICAgICBvdXQubWVtYmVycyA9IHAubWVtYmVycy5tYXAoKG06IGFueSkgPT4gKHtcbi8vICAgICAgICAgICBfaWQ6IFN0cmluZyhtLl9pZCB8fCBtKSxcbi8vICAgICAgICAgICBuYW1lOiBtLm5hbWUgfHwgU3RyaW5nKG0pLFxuLy8gICAgICAgICAgIGVtYWlsOiBtLmVtYWlsIHx8IHVuZGVmaW5lZCxcbi8vICAgICAgICAgICByb2xlOiBtLnJvbGUgfHwgdW5kZWZpbmVkLFxuLy8gICAgICAgICB9KSk7XG4vLyAgICAgICB9XG5cbi8vICAgICAgIHJldHVybiBvdXQ7XG4vLyAgICAgfSk7XG5cbi8vICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZm9ybWF0dGVkKTtcbi8vICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgcHJvamVjdHM6XCIsIGVycm9yKTtcbi8vICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4vLyAgICAgICB7IG1lc3NhZ2U6IFwiRXJyb3IgZmV0Y2hpbmcgcHJvamVjdHNcIiwgZXJyb3IgfSxcbi8vICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuLy8gICAgICk7XG4vLyAgIH1cbi8vIH1cblxuLy8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0KSB7XG4vLyAgIHRyeSB7XG4vLyAgICAgYXdhaXQgZGJDb25uZWN0KCk7XG4vLyAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpO1xuXG4vLyAgICAgaWYgKCFzZXNzaW9uPy51c2VyKSB7XG4vLyAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9LCB7IHN0YXR1czogNDAxIH0pO1xuLy8gICAgIH1cblxuLy8gICAgIGlmICghY2FuUHJvamVjdChzZXNzaW9uLnVzZXIucm9sZSwgXCJjcmVhdGVcIikpIHtcbi8vICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkZvcmJpZGRlblwiIH0sIHsgc3RhdHVzOiA0MDMgfSk7XG4vLyAgICAgfVxuXG4vLyAgICAgY29uc3QgZm9ybURhdGEgPSBhd2FpdCByZXEuZm9ybURhdGEoKTtcblxuLy8gICAgIGNvbnN0IHRpdGxlID0gKGZvcm1EYXRhLmdldChcInRpdGxlXCIpIGFzIHN0cmluZyk/LnRyaW0oKTtcbi8vICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IChmb3JtRGF0YS5nZXQoXCJkZXNjcmlwdGlvblwiKSBhcyBzdHJpbmcpPy50cmltKCk7XG4vLyAgICAgY29uc3QgcHJvamVjdGxlYWRWYWwgPSBmb3JtRGF0YS5nZXQoXCJwcm9qZWN0bGVhZFwiKTtcbi8vICAgICBjb25zdCBjb2xlYWRWYWwgPSBmb3JtRGF0YS5nZXQoXCJjb2xlYWRcIik7XG4vLyAgICAgY29uc3QgZ2l0aHViID0gKGZvcm1EYXRhLmdldChcImdpdGh1YlwiKSBhcyBzdHJpbmcpIHx8IFwiXCI7XG4vLyAgICAgY29uc3QgbGl2ZURlbW8gPSAoZm9ybURhdGEuZ2V0KFwibGl2ZURlbW9cIikgYXMgc3RyaW5nKSB8fCBcIlwiO1xuLy8gICAgIGNvbnN0IGJhZGdlID0gKGZvcm1EYXRhLmdldChcImJhZGdlXCIpIGFzIHN0cmluZykgfHwgXCJhY3RpdmVcIjtcbi8vICAgICBjb25zdCBhcHByb3ZlZCA9IGZvcm1EYXRhLmdldChcImFwcHJvdmVkXCIpID09PSBcInRydWVcIjtcbi8vICAgICBjb25zdCBkb21haW5SYXcgPSBmb3JtRGF0YS5nZXQoXCJkb21haW5cIikgYXMgc3RyaW5nO1xuLy8gICAgIGNvbnN0IHN0YXJ0RGF0ZVJhdyA9IGZvcm1EYXRhLmdldChcInN0YXJ0RGF0ZVwiKSBhcyBzdHJpbmc7XG4vLyAgICAgY29uc3QgY29tcGxldGlvbkRhdGVSYXcgPSBmb3JtRGF0YS5nZXQoXCJjb21wbGV0aW9uRGF0ZVwiKSBhcyBzdHJpbmc7XG4vLyAgICAgY29uc3QgaW1hZ2VGaWxlID0gZm9ybURhdGEuZ2V0KFwiaW1hZ2VcIikgYXMgRmlsZSB8IG51bGw7XG5cbi8vICAgICBpZiAoIXRpdGxlIHx8ICFkZXNjcmlwdGlvbiB8fCAhZG9tYWluUmF3KSB7XG4vLyAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJNaXNzaW5nIHJlcXVpcmVkIGZpZWxkc1wiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4vLyAgICAgfVxuXG4vLyAgICAgY29uc3QgZG9tYWluID0gSlNPTi5wYXJzZShkb21haW5SYXcpO1xuLy8gICAgIGlmICghQXJyYXkuaXNBcnJheShkb21haW4pIHx8ICFkb21haW4ubGVuZ3RoKSB7XG4vLyAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJJbnZhbGlkIGRvbWFpbiBkYXRhXCIgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbi8vICAgICB9XG5cbi8vICAgICBpZiAodGl0bGUubGVuZ3RoIDwgMykge1xuLy8gICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiVGl0bGUgbXVzdCBiZSBhdCBsZWFzdCAzIGNoYXJhY3RlcnNcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xuLy8gICAgIH1cblxuLy8gICAgIGlmIChkZXNjcmlwdGlvbi5sZW5ndGggPCAxMCkge1xuLy8gICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiRGVzY3JpcHRpb24gbXVzdCBiZSBhdCBsZWFzdCAxMCBjaGFyYWN0ZXJzXCIgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbi8vICAgICB9XG5cbi8vICAgICBjb25zdCBwcm9qZWN0bGVhZElkID0gYXdhaXQgcmVzb2x2ZVVzZXJJZGVudGlmaWVyKHByb2plY3RsZWFkVmFsIHx8IHNlc3Npb24udXNlci5faWQpO1xuLy8gICAgIGlmICghcHJvamVjdGxlYWRJZCkge1xuLy8gICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiVGVhbSBsZWFkIG5vdCBmb3VuZFwiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4vLyAgICAgfVxuXG4vLyAgICAgbGV0IGNvbGVhZElkOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbi8vICAgICBpZiAoY29sZWFkVmFsKSB7XG4vLyAgICAgICBjb2xlYWRJZCA9IGF3YWl0IHJlc29sdmVVc2VySWRlbnRpZmllcihjb2xlYWRWYWwpO1xuLy8gICAgICAgaWYgKCFjb2xlYWRJZCkge1xuLy8gICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJBc3Npc3RhbnQgbGVhZCBub3QgZm91bmRcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xuLy8gICAgICAgfVxuLy8gICAgIH1cblxuLy8gICAgIGxldCBpbWFnZVVybDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4vLyAgICAgaWYgKGltYWdlRmlsZSkge1xuLy8gICAgICAgY29uc3QgYnl0ZXMgPSBhd2FpdCBpbWFnZUZpbGUuYXJyYXlCdWZmZXIoKTtcbi8vICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGJ5dGVzKTtcbi8vICAgICAgIGNvbnN0IGZpbGVOYW1lID0gYCR7RGF0ZS5ub3coKX0tJHtpbWFnZUZpbGUubmFtZX1gO1xuLy8gICAgICAgY29uc3QgdXBsb2FkRGlyID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIFwicHVibGljXCIsIFwidXBsb2Fkc1wiKTtcbi8vICAgICAgIGlmICghZnMuZXhpc3RzU3luYyh1cGxvYWREaXIpKSB7XG4vLyAgICAgICAgIGZzLm1rZGlyU3luYyh1cGxvYWREaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuLy8gICAgICAgfVxuLy8gICAgICAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4odXBsb2FkRGlyLCBmaWxlTmFtZSk7XG4vLyAgICAgICBhd2FpdCBmcy5wcm9taXNlcy53cml0ZUZpbGUoZmlsZVBhdGgsIGJ1ZmZlcik7XG4vLyAgICAgICBpbWFnZVVybCA9IGAvdXBsb2Fkcy8ke2ZpbGVOYW1lfWA7XG4vLyAgICAgfVxuXG4vLyAgICAgY29uc3Qgc3RhcnREYXRlID0gc3RhcnREYXRlUmF3ID8gbmV3IERhdGUoc3RhcnREYXRlUmF3KSA6IG5ldyBEYXRlKCk7XG4vLyAgICAgY29uc3QgY29tcGxldGlvbkRhdGUgPSBjb21wbGV0aW9uRGF0ZVJhd1xuLy8gICAgICAgPyBuZXcgRGF0ZShjb21wbGV0aW9uRGF0ZVJhdylcbi8vICAgICAgIDogbmV3IERhdGUoc3RhcnREYXRlLmdldFRpbWUoKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCk7XG5cbi8vICAgICBpZiAoY29tcGxldGlvbkRhdGUgPCBzdGFydERhdGUpIHtcbi8vICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbi8vICAgICAgICAgeyBlcnJvcjogXCJDb21wbGV0aW9uIGRhdGUgY2Fubm90IGJlIGJlZm9yZSBzdGFydCBkYXRlXCIgfSxcbi8vICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4vLyAgICAgICApO1xuLy8gICAgIH1cblxuLy8gICAgIGNvbnN0IHByb2plY3QgPSBhd2FpdCBQcm9qZWN0TW9kZWwuY3JlYXRlKHtcbi8vICAgICAgIHRpdGxlLFxuLy8gICAgICAgZGVzY3JpcHRpb24sXG4vLyAgICAgICBkb21haW4sXG4vLyAgICAgICBpbWFnZTogaW1hZ2VVcmwsXG4vLyAgICAgICBwcm9qZWN0bGVhZDogcHJvamVjdGxlYWRJZCxcbi8vICAgICAgIGNvbGVhZDogY29sZWFkSWQsXG4vLyAgICAgICBtZW1iZXJzOiBbXSxcbi8vICAgICAgIG1lbWJlcnNDb3VudDogMSxcbi8vICAgICAgIGdpdGh1YjogZ2l0aHViIHx8IHVuZGVmaW5lZCxcbi8vICAgICAgIGxpdmVEZW1vOiBsaXZlRGVtbyB8fCB1bmRlZmluZWQsXG4vLyAgICAgICBiYWRnZSxcbi8vICAgICAgIGFwcHJvdmVkLFxuLy8gICAgICAgZW5yb2xsZWQ6IGZhbHNlLFxuLy8gICAgICAgc3RhcnREYXRlLFxuLy8gICAgICAgY29tcGxldGlvbkRhdGUsXG4vLyAgICAgfSk7XG5cbi8vICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocHJvamVjdCwgeyBzdGF0dXM6IDIwMSB9KTtcbi8vICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgcHJvamVjdDpcIiwgZXJyb3IpO1xuLy8gICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbi8vICAgICAgIHsgZXJyb3I6IFwiRmFpbGVkIHRvIGNyZWF0ZSBwcm9qZWN0XCIsIGRldGFpbHM6IFN0cmluZyhlcnJvcikgfSxcbi8vICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuLy8gICAgICk7XG4vLyAgIH1cbi8vIH1cblxuXG5leHBvcnQgY29uc3QgZHluYW1pYyA9IFwiZm9yY2UtZHluYW1pY1wiO1xuXG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSBcIm5leHQtYXV0aFwiO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IGRiQ29ubmVjdCBmcm9tIFwiQC9saWIvZGJcIjtcbmltcG9ydCBQcm9qZWN0TW9kZWwgZnJvbSBcIkAvbW9kZWwvUHJvamVjdHNcIjtcbmltcG9ydCBVc2VyTW9kZWwgZnJvbSBcIkAvbW9kZWwvVXNlclwiO1xuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tIFwiLi4vYXV0aC9bLi4ubmV4dGF1dGhdL29wdGlvblwiO1xuaW1wb3J0IHsgY2FuUHJvamVjdCB9IGZyb20gXCJAL2xpYi9wZXJtaXNzaW9uc1wiO1xuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBjbG91ZGluYXJ5IGZyb20gXCJAL2xpYi9jbG91ZGluYXJ5XCI7XG5pbXBvcnQgeyBjb3JzUmVzcG9uc2UsIGhhbmRsZU9wdGlvbnMgfSBmcm9tIFwiQC9saWIvY29yc1wiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gT1BUSU9OUygpIHtcbiAgcmV0dXJuIGhhbmRsZU9wdGlvbnMoKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZVVzZXJJZGVudGlmaWVyKHZhbDogYW55KSB7XG4gIGlmICghdmFsICYmIHZhbCAhPT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICBjb25zdCB0cmltbWVkID0gdmFsLnRyaW0oKTtcblxuICAgIGlmIChtb25nb29zZS5UeXBlcy5PYmplY3RJZC5pc1ZhbGlkKHRyaW1tZWQpKSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRCeUlkKHRyaW1tZWQpO1xuICAgICAgaWYgKHVzZXIpIHJldHVybiB1c2VyLl9pZDtcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoe1xuICAgICAgJG9yOiBbeyBuYW1lOiB0cmltbWVkIH0sIHsgZW1haWw6IHRyaW1tZWQgfSwgeyByb2xsTm86IHRyaW1tZWQgfV0sXG4gICAgfSk7XG4gICAgaWYgKHVzZXIpIHJldHVybiB1c2VyLl9pZDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsID09PSBcIm9iamVjdFwiICYmIHZhbD8uX2lkICYmIG1vbmdvb3NlLlR5cGVzLk9iamVjdElkLmlzVmFsaWQoU3RyaW5nKHZhbC5faWQpKSkge1xuICAgIHJldHVybiB2YWwuX2lkO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XG5cbiAgICBjb25zdCBwcm9qZWN0cyA9IGF3YWl0IFByb2plY3RNb2RlbC5maW5kKClcbiAgICAgIC5zb3J0KHsgY3JlYXRlZEF0OiAtMSB9KVxuICAgICAgLnBvcHVsYXRlKFwicHJvamVjdGxlYWRcIiwgXCJuYW1lIGVtYWlsIHJvbGUgcHJvZmlsZVBpY1wiKVxuICAgICAgLnBvcHVsYXRlKFwiY29sZWFkXCIsIFwibmFtZSBlbWFpbCByb2xlIHByb2ZpbGVQaWNcIilcbiAgICAgIC5wb3B1bGF0ZShcIm1lbWJlcnNcIiwgXCJuYW1lIGVtYWlsIHJvbGUgcHJvZmlsZVBpY1wiKVxuICAgICAgLmxlYW4oKTtcblxuICAgIGNvbnN0IGZvcm1hdHRlZCA9IHByb2plY3RzLm1hcCgocDogYW55KSA9PiAoe1xuICAgICAgLi4ucCxcbiAgICAgIGlkOiBTdHJpbmcocC5faWQpLFxuICAgICAgc3RhcnREYXRlOiBwLnN0YXJ0RGF0ZSB8fCBudWxsLFxuICAgICAgY29tcGxldGlvbkRhdGU6IHAuY29tcGxldGlvbkRhdGUgfHwgbnVsbCxcbiAgICAgIHByb2plY3RsZWFkOiBwLnByb2plY3RsZWFkXG4gICAgICAgID8geyBfaWQ6IFN0cmluZyhwLnByb2plY3RsZWFkLl9pZCksIG5hbWU6IHAucHJvamVjdGxlYWQubmFtZSwgZW1haWw6IHAucHJvamVjdGxlYWQuZW1haWwsIHJvbGU6IHAucHJvamVjdGxlYWQucm9sZSB9XG4gICAgICAgIDogbnVsbCxcbiAgICAgIGNvbGVhZDogcC5jb2xlYWRcbiAgICAgICAgPyB7IF9pZDogU3RyaW5nKHAuY29sZWFkLl9pZCksIG5hbWU6IHAuY29sZWFkLm5hbWUsIGVtYWlsOiBwLmNvbGVhZC5lbWFpbCwgcm9sZTogcC5jb2xlYWQucm9sZSB9XG4gICAgICAgIDogbnVsbCxcbiAgICAgIG1lbWJlcnM6IEFycmF5LmlzQXJyYXkocC5tZW1iZXJzKVxuICAgICAgICA/IHAubWVtYmVycy5tYXAoKG06IGFueSkgPT4gKHtcbiAgICAgICAgICAgIF9pZDogU3RyaW5nKG0uX2lkKSxcbiAgICAgICAgICAgIG5hbWU6IG0ubmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBtLmVtYWlsLFxuICAgICAgICAgICAgcm9sZTogbS5yb2xlLFxuICAgICAgICAgIH0pKVxuICAgICAgICA6IFtdLFxuICAgIH0pKTtcblxuICAgIHJldHVybiBjb3JzUmVzcG9uc2UoZm9ybWF0dGVkLCAyMDApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBwcm9qZWN0czpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBjb3JzUmVzcG9uc2UoeyBtZXNzYWdlOiBcIkVycm9yIGZldGNoaW5nIHByb2plY3RzXCIsIGVycm9yIH0sIDUwMCk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpO1xuXG4gICAgaWYgKCFzZXNzaW9uPy51c2VyKSByZXR1cm4gY29yc1Jlc3BvbnNlKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSwgNDAxKTtcbiAgICBpZiAoIWNhblByb2plY3Qoc2Vzc2lvbi51c2VyLnJvbGUsIFwiY3JlYXRlXCIpKSByZXR1cm4gY29yc1Jlc3BvbnNlKHsgZXJyb3I6IFwiRm9yYmlkZGVuXCIgfSwgNDAzKTtcblxuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxLmZvcm1EYXRhKCk7XG4gICAgY29uc3QgdGl0bGUgPSAoZm9ybURhdGEuZ2V0KFwidGl0bGVcIikgYXMgc3RyaW5nKT8udHJpbSgpO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gKGZvcm1EYXRhLmdldChcImRlc2NyaXB0aW9uXCIpIGFzIHN0cmluZyk/LnRyaW0oKTtcbiAgICBjb25zdCBwcm9qZWN0bGVhZFZhbCA9IGZvcm1EYXRhLmdldChcInByb2plY3RsZWFkXCIpO1xuICAgIGNvbnN0IGNvbGVhZFZhbCA9IGZvcm1EYXRhLmdldChcImNvbGVhZFwiKTtcbiAgICBjb25zdCBnaXRodWIgPSAoZm9ybURhdGEuZ2V0KFwiZ2l0aHViXCIpIGFzIHN0cmluZykgfHwgXCJcIjtcbiAgICBjb25zdCBsaXZlRGVtbyA9IChmb3JtRGF0YS5nZXQoXCJsaXZlRGVtb1wiKSBhcyBzdHJpbmcpIHx8IFwiXCI7XG4gICAgY29uc3QgYmFkZ2UgPSAoZm9ybURhdGEuZ2V0KFwiYmFkZ2VcIikgYXMgc3RyaW5nKSB8fCBcImFjdGl2ZVwiO1xuICAgIGNvbnN0IGFwcHJvdmVkID0gZm9ybURhdGEuZ2V0KFwiYXBwcm92ZWRcIikgPT09IFwidHJ1ZVwiO1xuICAgIGNvbnN0IGRvbWFpblJhdyA9IGZvcm1EYXRhLmdldChcImRvbWFpblwiKSBhcyBzdHJpbmc7XG4gICAgY29uc3Qgc3RhcnREYXRlUmF3ID0gZm9ybURhdGEuZ2V0KFwic3RhcnREYXRlXCIpIGFzIHN0cmluZztcbiAgICBjb25zdCBjb21wbGV0aW9uRGF0ZVJhdyA9IGZvcm1EYXRhLmdldChcImNvbXBsZXRpb25EYXRlXCIpIGFzIHN0cmluZztcbiAgICBjb25zdCBpbWFnZUZpbGUgPSBmb3JtRGF0YS5nZXQoXCJpbWFnZVwiKSBhcyBGaWxlIHwgbnVsbDtcblxuICAgIGlmICghdGl0bGUgfHwgIWRlc2NyaXB0aW9uIHx8ICFkb21haW5SYXcpXG4gICAgICByZXR1cm4gY29yc1Jlc3BvbnNlKHsgZXJyb3I6IFwiTWlzc2luZyByZXF1aXJlZCBmaWVsZHNcIiB9LCA0MDApO1xuXG4gICAgY29uc3QgZG9tYWluID0gSlNPTi5wYXJzZShkb21haW5SYXcpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkb21haW4pIHx8ICFkb21haW4ubGVuZ3RoKVxuICAgICAgcmV0dXJuIGNvcnNSZXNwb25zZSh7IGVycm9yOiBcIkludmFsaWQgZG9tYWluIGRhdGFcIiB9LCA0MDApO1xuXG4gICAgaWYgKHRpdGxlLmxlbmd0aCA8IDMpXG4gICAgICByZXR1cm4gY29yc1Jlc3BvbnNlKHsgZXJyb3I6IFwiVGl0bGUgbXVzdCBiZSBhdCBsZWFzdCAzIGNoYXJhY3RlcnNcIiB9LCA0MDApO1xuXG4gICAgaWYgKGRlc2NyaXB0aW9uLmxlbmd0aCA8IDEwKVxuICAgICAgcmV0dXJuIGNvcnNSZXNwb25zZSh7IGVycm9yOiBcIkRlc2NyaXB0aW9uIG11c3QgYmUgYXQgbGVhc3QgMTAgY2hhcmFjdGVyc1wiIH0sIDQwMCk7XG5cbiAgICBjb25zdCBwcm9qZWN0bGVhZElkID0gYXdhaXQgcmVzb2x2ZVVzZXJJZGVudGlmaWVyKHByb2plY3RsZWFkVmFsIHx8IHNlc3Npb24udXNlci5faWQpO1xuICAgIGlmICghcHJvamVjdGxlYWRJZClcbiAgICAgIHJldHVybiBjb3JzUmVzcG9uc2UoeyBlcnJvcjogXCJUZWFtIGxlYWQgbm90IGZvdW5kXCIgfSwgNDAwKTtcblxuICAgIGxldCBjb2xlYWRJZDogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgaWYgKGNvbGVhZFZhbCkge1xuICAgICAgY29sZWFkSWQgPSBhd2FpdCByZXNvbHZlVXNlcklkZW50aWZpZXIoY29sZWFkVmFsKTtcbiAgICAgIGlmICghY29sZWFkSWQpXG4gICAgICAgIHJldHVybiBjb3JzUmVzcG9uc2UoeyBlcnJvcjogXCJBc3Npc3RhbnQgbGVhZCBub3QgZm91bmRcIiB9LCA0MDApO1xuICAgIH1cbmxldCBpbWFnZVVybDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG5pZiAoaW1hZ2VGaWxlKSB7XG4gIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGF3YWl0IGltYWdlRmlsZS5hcnJheUJ1ZmZlcigpKTtcblxuICBpZiAoYnVmZmVyLmxlbmd0aCA+IDUgKiAxMDI0ICogMTAyNCkge1xuICAgIHJldHVybiBjb3JzUmVzcG9uc2UoXG4gICAgICB7IGVycm9yOiBcIkltYWdlIHNpemUgZXhjZWVkcyA1TUJcIiB9LCBcbiAgICAgIDQwMFxuICAgICk7XG4gIH1cblxuICBjb25zdCBkYXRhVXJsID0gYGRhdGE6JHtpbWFnZUZpbGUudHlwZX07YmFzZTY0LCR7YnVmZmVyLnRvU3RyaW5nKFwiYmFzZTY0XCIpfWA7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB1cGxvYWRSZXN1bHQgPSBhd2FpdCBjbG91ZGluYXJ5LnVwbG9hZGVyLnVwbG9hZChkYXRhVXJsLCB7XG4gICAgICBmb2xkZXI6IFwid29ya3BpbG90L3Byb2plY3RfaW1hZ2VzXCIsXG4gICAgICB0cmFuc2Zvcm1hdGlvbjogW1xuICAgICAgICB7IHdpZHRoOiA4MDAsIGhlaWdodDogNjAwLCBjcm9wOiBcImZpbGxcIiB9XG4gICAgICBdXG4gICAgfSk7XG5cbiAgICBpbWFnZVVybCA9IHVwbG9hZFJlc3VsdC5zZWN1cmVfdXJsO1xuICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJDbG91ZGluYXJ5IHVwbG9hZCBmYWlsZWQ6XCIsIGVycik7XG4gICAgcmV0dXJuIGNvcnNSZXNwb25zZShcbiAgICAgIHsgZXJyb3I6IFwiQ2xvdWRpbmFyeSB1cGxvYWQgZmFpbGVkXCIsIGRldGFpbHM6IFN0cmluZyhlcnIpIH0sXG4gICAgICA1MDBcbiAgICApO1xuICB9XG59XG5cbiAgICBjb25zdCBzdGFydERhdGUgPSBzdGFydERhdGVSYXcgPyBuZXcgRGF0ZShzdGFydERhdGVSYXcpIDogbmV3IERhdGUoKTtcbiAgICBjb25zdCBjb21wbGV0aW9uRGF0ZSA9IGNvbXBsZXRpb25EYXRlUmF3XG4gICAgICA/IG5ldyBEYXRlKGNvbXBsZXRpb25EYXRlUmF3KVxuICAgICAgOiBuZXcgRGF0ZShzdGFydERhdGUuZ2V0VGltZSgpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKTtcblxuICAgIGlmIChjb21wbGV0aW9uRGF0ZSA8IHN0YXJ0RGF0ZSlcbiAgICAgIHJldHVybiBjb3JzUmVzcG9uc2UoeyBlcnJvcjogXCJDb21wbGV0aW9uIGRhdGUgY2Fubm90IGJlIGJlZm9yZSBzdGFydCBkYXRlXCIgfSwgNDAwKTtcblxuICAgIGNvbnN0IHByb2plY3QgPSBhd2FpdCBQcm9qZWN0TW9kZWwuY3JlYXRlKHtcbiAgICAgIHRpdGxlLFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBkb21haW4sXG4gICAgICBpbWFnZTogaW1hZ2VVcmwsXG4gICAgICBwcm9qZWN0bGVhZDogcHJvamVjdGxlYWRJZCxcbiAgICAgIGNvbGVhZDogY29sZWFkSWQsXG4gICAgICBtZW1iZXJzOiBbXSxcbiAgICAgIG1lbWJlcnNDb3VudDogMSxcbiAgICAgIGdpdGh1YixcbiAgICAgIGxpdmVEZW1vLFxuICAgICAgYmFkZ2UsXG4gICAgICBhcHByb3ZlZCxcbiAgICAgIGVucm9sbGVkOiBmYWxzZSxcbiAgICAgIHN0YXJ0RGF0ZSxcbiAgICAgIGNvbXBsZXRpb25EYXRlLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNvcnNSZXNwb25zZShwcm9qZWN0LCAyMDEpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBwcm9qZWN0OlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIGNvcnNSZXNwb25zZSh7IGVycm9yOiBcIkZhaWxlZCB0byBjcmVhdGUgcHJvamVjdFwiLCBkZXRhaWxzOiBTdHJpbmcoZXJyb3IpIH0sIDUwMCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJkeW5hbWljIiwiZ2V0U2VydmVyU2Vzc2lvbiIsIm1vbmdvb3NlIiwiZGJDb25uZWN0IiwiUHJvamVjdE1vZGVsIiwiVXNlck1vZGVsIiwiYXV0aE9wdGlvbnMiLCJjYW5Qcm9qZWN0IiwiY2xvdWRpbmFyeSIsImNvcnNSZXNwb25zZSIsImhhbmRsZU9wdGlvbnMiLCJPUFRJT05TIiwicmVzb2x2ZVVzZXJJZGVudGlmaWVyIiwidmFsIiwidHJpbW1lZCIsInRyaW0iLCJUeXBlcyIsIk9iamVjdElkIiwiaXNWYWxpZCIsInVzZXIiLCJmaW5kQnlJZCIsIl9pZCIsImZpbmRPbmUiLCIkb3IiLCJuYW1lIiwiZW1haWwiLCJyb2xsTm8iLCJTdHJpbmciLCJHRVQiLCJwcm9qZWN0cyIsImZpbmQiLCJzb3J0IiwiY3JlYXRlZEF0IiwicG9wdWxhdGUiLCJsZWFuIiwiZm9ybWF0dGVkIiwibWFwIiwicCIsImlkIiwic3RhcnREYXRlIiwiY29tcGxldGlvbkRhdGUiLCJwcm9qZWN0bGVhZCIsInJvbGUiLCJjb2xlYWQiLCJtZW1iZXJzIiwiQXJyYXkiLCJpc0FycmF5IiwibSIsImVycm9yIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJQT1NUIiwicmVxIiwic2Vzc2lvbiIsImZvcm1EYXRhIiwidGl0bGUiLCJnZXQiLCJkZXNjcmlwdGlvbiIsInByb2plY3RsZWFkVmFsIiwiY29sZWFkVmFsIiwiZ2l0aHViIiwibGl2ZURlbW8iLCJiYWRnZSIsImFwcHJvdmVkIiwiZG9tYWluUmF3Iiwic3RhcnREYXRlUmF3IiwiY29tcGxldGlvbkRhdGVSYXciLCJpbWFnZUZpbGUiLCJkb21haW4iLCJKU09OIiwicGFyc2UiLCJsZW5ndGgiLCJwcm9qZWN0bGVhZElkIiwiY29sZWFkSWQiLCJ1bmRlZmluZWQiLCJpbWFnZVVybCIsImJ1ZmZlciIsIkJ1ZmZlciIsImZyb20iLCJhcnJheUJ1ZmZlciIsImRhdGFVcmwiLCJ0eXBlIiwidG9TdHJpbmciLCJ1cGxvYWRSZXN1bHQiLCJ1cGxvYWRlciIsInVwbG9hZCIsImZvbGRlciIsInRyYW5zZm9ybWF0aW9uIiwid2lkdGgiLCJoZWlnaHQiLCJjcm9wIiwic2VjdXJlX3VybCIsImVyciIsImRldGFpbHMiLCJEYXRlIiwiZ2V0VGltZSIsInByb2plY3QiLCJjcmVhdGUiLCJpbWFnZSIsIm1lbWJlcnNDb3VudCIsImVucm9sbGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/projects/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/cloudinary.ts":
/*!***************************!*\
  !*** ./lib/cloudinary.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cloudinary */ \"(rsc)/./node_modules/cloudinary/cloudinary.js\");\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cloudinary__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ \"(rsc)/./node_modules/dotenv/lib/main.js\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_1__);\n\n\ndotenv__WEBPACK_IMPORTED_MODULE_1___default().config({\n    path: \".env\"\n});\ncloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.config({\n    cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n    api_key: process.env.CLOUDINARY_API_KEY,\n    api_secret: process.env.CLOUDINARY_API_SECRET\n});\nconsole.log(\"Cloudinary Config\", {\n    cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n    api_key: process.env.CLOUDINARY_API_KEY ? \"SET\" : \"NOT SET\",\n    api_secret: process.env.CLOUDINARY_API_SECRET ? \"SET\" : \"NOT SET\"\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2); // import {v2 as cloudinary} from \"cloudinary\";\n // import dotenv from \"dotenv\";\n // dotenv.config({ path: \".env.local\"});\n // cloudinary.config({\n //     cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n //     api_key:process.env.CLOUDINARY_API_KEY,\n //     api_secret:process.env.CLOUDINARY_API_SECRET,\n // });\n // console.log(\"Cloudinary Config\", {\n //     cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n //     api_key:process.env.CLOUDINARY_API_KEY?'SET' :'NOT SET',\n //     api_secret:process.env.CLOUDINARY_API_SECRET?'SET':'NOT SET',\n // });\n // export default cloudinary;\n // import { v2 as cloudinary } from \"cloudinary\";\n // // âŒ No dotenv import\n // // âŒ No dotenv.config()\n // // âŒ No manual path to .env.local\n // cloudinary.config({\n //   cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n //   api_key: process.env.CLOUDINARY_API_KEY,\n //   api_secret: process.env.CLOUDINARY_API_SECRET,\n // });\n // console.log(\"Cloudinary Config\", {\n //   cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n //   api_key: process.env.CLOUDINARY_API_KEY ? \"api\" : \"NOT SET\",\n //   api_secret: process.env.CLOUDINARY_API_SECRET ? \"SET\" : \"NOT SET\",\n // });\n // export default cloudinary;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY2xvdWRpbmFyeS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE0QztBQUNoQjtBQUU1QkUsb0RBQWEsQ0FBQztJQUFFRSxNQUFNO0FBQU07QUFFNUJILDBDQUFVQSxDQUFDRSxNQUFNLENBQUM7SUFDZEUsWUFBWUMsUUFBUUMsR0FBRyxDQUFDQyxxQkFBcUI7SUFDN0NDLFNBQVFILFFBQVFDLEdBQUcsQ0FBQ0csa0JBQWtCO0lBQ3RDQyxZQUFXTCxRQUFRQyxHQUFHLENBQUNLLHFCQUFxQjtBQUNoRDtBQUVBQyxRQUFRQyxHQUFHLENBQUMscUJBQXFCO0lBQzdCVCxZQUFZQyxRQUFRQyxHQUFHLENBQUNDLHFCQUFxQjtJQUM3Q0MsU0FBUUgsUUFBUUMsR0FBRyxDQUFDRyxrQkFBa0IsR0FBQyxRQUFPO0lBQzlDQyxZQUFXTCxRQUFRQyxHQUFHLENBQUNLLHFCQUFxQixHQUFDLFFBQU07QUFDdkQ7QUFFQSxpRUFBZVgsMENBQVVBLEVBQUMsQ0FFMUIsK0NBQStDO0NBQy9DLCtCQUErQjtDQUUvQix3Q0FBd0M7Q0FFeEMsc0JBQXNCO0NBQ3RCLHFEQUFxRDtDQUNyRCw4Q0FBOEM7Q0FDOUMsb0RBQW9EO0NBQ3BELE1BQU07Q0FFTixxQ0FBcUM7Q0FDckMscURBQXFEO0NBQ3JELCtEQUErRDtDQUMvRCxvRUFBb0U7Q0FDcEUsTUFBTTtDQUVOLDZCQUE2QjtDQUU3QixpREFBaUQ7Q0FFakQsd0JBQXdCO0NBQ3hCLDBCQUEwQjtDQUMxQixvQ0FBb0M7Q0FFcEMsc0JBQXNCO0NBQ3RCLG1EQUFtRDtDQUNuRCw2Q0FBNkM7Q0FDN0MsbURBQW1EO0NBQ25ELE1BQU07Q0FFTixxQ0FBcUM7Q0FDckMsbURBQW1EO0NBQ25ELGlFQUFpRTtDQUNqRSx1RUFBdUU7Q0FDdkUsTUFBTTtDQUVOLDZCQUE2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtbWFuYWdlbWVudC8uL2xpYi9jbG91ZGluYXJ5LnRzPzg0NWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt2MiBhcyBjbG91ZGluYXJ5fSBmcm9tIFwiY2xvdWRpbmFyeVwiO1xuaW1wb3J0IGRvdGVudiBmcm9tIFwiZG90ZW52XCI7XG5cbmRvdGVudi5jb25maWcoeyBwYXRoOiBcIi5lbnZcIn0pO1xuXG5jbG91ZGluYXJ5LmNvbmZpZyh7XG4gICAgY2xvdWRfbmFtZTogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9DTE9VRF9OQU1FLFxuICAgIGFwaV9rZXk6cHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9BUElfS0VZLFxuICAgIGFwaV9zZWNyZXQ6cHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9BUElfU0VDUkVULFxufSk7XG5cbmNvbnNvbGUubG9nKFwiQ2xvdWRpbmFyeSBDb25maWdcIiwge1xuICAgIGNsb3VkX25hbWU6IHByb2Nlc3MuZW52LkNMT1VESU5BUllfQ0xPVURfTkFNRSxcbiAgICBhcGlfa2V5OnByb2Nlc3MuZW52LkNMT1VESU5BUllfQVBJX0tFWT8nU0VUJyA6J05PVCBTRVQnLFxuICAgIGFwaV9zZWNyZXQ6cHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9BUElfU0VDUkVUPydTRVQnOidOT1QgU0VUJyxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjbG91ZGluYXJ5O1xuXG4vLyBpbXBvcnQge3YyIGFzIGNsb3VkaW5hcnl9IGZyb20gXCJjbG91ZGluYXJ5XCI7XG4vLyBpbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcblxuLy8gZG90ZW52LmNvbmZpZyh7IHBhdGg6IFwiLmVudi5sb2NhbFwifSk7XG5cbi8vIGNsb3VkaW5hcnkuY29uZmlnKHtcbi8vICAgICBjbG91ZF9uYW1lOiBwcm9jZXNzLmVudi5DTE9VRElOQVJZX0NMT1VEX05BTUUsXG4vLyAgICAgYXBpX2tleTpwcm9jZXNzLmVudi5DTE9VRElOQVJZX0FQSV9LRVksXG4vLyAgICAgYXBpX3NlY3JldDpwcm9jZXNzLmVudi5DTE9VRElOQVJZX0FQSV9TRUNSRVQsXG4vLyB9KTtcblxuLy8gY29uc29sZS5sb2coXCJDbG91ZGluYXJ5IENvbmZpZ1wiLCB7XG4vLyAgICAgY2xvdWRfbmFtZTogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9DTE9VRF9OQU1FLFxuLy8gICAgIGFwaV9rZXk6cHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9BUElfS0VZPydTRVQnIDonTk9UIFNFVCcsXG4vLyAgICAgYXBpX3NlY3JldDpwcm9jZXNzLmVudi5DTE9VRElOQVJZX0FQSV9TRUNSRVQ/J1NFVCc6J05PVCBTRVQnLFxuLy8gfSk7XG5cbi8vIGV4cG9ydCBkZWZhdWx0IGNsb3VkaW5hcnk7XG5cbi8vIGltcG9ydCB7IHYyIGFzIGNsb3VkaW5hcnkgfSBmcm9tIFwiY2xvdWRpbmFyeVwiO1xuXG4vLyAvLyDinYwgTm8gZG90ZW52IGltcG9ydFxuLy8gLy8g4p2MIE5vIGRvdGVudi5jb25maWcoKVxuLy8gLy8g4p2MIE5vIG1hbnVhbCBwYXRoIHRvIC5lbnYubG9jYWxcblxuLy8gY2xvdWRpbmFyeS5jb25maWcoe1xuLy8gICBjbG91ZF9uYW1lOiBwcm9jZXNzLmVudi5DTE9VRElOQVJZX0NMT1VEX05BTUUsXG4vLyAgIGFwaV9rZXk6IHByb2Nlc3MuZW52LkNMT1VESU5BUllfQVBJX0tFWSxcbi8vICAgYXBpX3NlY3JldDogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9BUElfU0VDUkVULFxuLy8gfSk7XG5cbi8vIGNvbnNvbGUubG9nKFwiQ2xvdWRpbmFyeSBDb25maWdcIiwge1xuLy8gICBjbG91ZF9uYW1lOiBwcm9jZXNzLmVudi5DTE9VRElOQVJZX0NMT1VEX05BTUUsXG4vLyAgIGFwaV9rZXk6IHByb2Nlc3MuZW52LkNMT1VESU5BUllfQVBJX0tFWSA/IFwiYXBpXCIgOiBcIk5PVCBTRVRcIixcbi8vICAgYXBpX3NlY3JldDogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9BUElfU0VDUkVUID8gXCJTRVRcIiA6IFwiTk9UIFNFVFwiLFxuLy8gfSk7XG5cbi8vIGV4cG9ydCBkZWZhdWx0IGNsb3VkaW5hcnk7XG4iXSwibmFtZXMiOlsidjIiLCJjbG91ZGluYXJ5IiwiZG90ZW52IiwiY29uZmlnIiwicGF0aCIsImNsb3VkX25hbWUiLCJwcm9jZXNzIiwiZW52IiwiQ0xPVURJTkFSWV9DTE9VRF9OQU1FIiwiYXBpX2tleSIsIkNMT1VESU5BUllfQVBJX0tFWSIsImFwaV9zZWNyZXQiLCJDTE9VRElOQVJZX0FQSV9TRUNSRVQiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/cloudinary.ts\n");

/***/ }),

/***/ "(rsc)/./lib/cors.ts":
/*!*********************!*\
  !*** ./lib/cors.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   corsResponse: () => (/* binding */ corsResponse),\n/* harmony export */   handleOptions: () => (/* binding */ handleOptions)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n// import { NextResponse } from \"next/server\";\n// // const allowedOrigins = [\n// //   // \"https://workpilot-f.onrender.com\", \n// //   \"\",\n// // ];\n// // export function corsResponse(data: any, status: number = 200) {\n// //   const res = NextResponse.json(data, { status });\n// //   res.headers.set(\"Access-Control-Allow-Origin\", allowedOrigins.join(\",\"));\n// //   res.headers.set(\"Access-Control-Allow-Methods\", \"GET,POST,PUT,DELETE,OPTIONS\");\n// //   res.headers.set(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\n// //   res.headers.set(\"Access-Control-Allow-Credentials\", \"true\");\n// //   return res;\n// // }\n// // // For preflight OPTIONS requests\n// // export function handleOptions() {\n// //   const res = new NextResponse(null, { status: 204 });\n// //   res.headers.set(\"Access-Control-Allow-Origin\", allowedOrigins.join(\",\"));\n// //   res.headers.set(\"Access-Control-Allow-Methods\", \"GET,POST,PUT,DELETE,OPTIONS\");\n// //   res.headers.set(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\n// //   res.headers.set(\"Access-Control-Allow-Credentials\", \"true\");\n// //   return res;\n// // }\n\nconst allowedOrigins = [\n    \"http://localhost:3000\" || 0,\n    \"http://localhost:3000\"\n];\nfunction corsResponse(data, status = 200) {\n    const res = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(data, {\n        status\n    });\n    // Use configured allowed origin (don't try to read from response headers)\n    const origin = allowedOrigins[0];\n    res.headers.set(\"Access-Control-Allow-Origin\", origin);\n    res.headers.set(\"Access-Control-Allow-Methods\", \"GET,POST,PUT,DELETE,OPTIONS\");\n    res.headers.set(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\n    res.headers.set(\"Access-Control-Allow-Credentials\", \"true\");\n    return res;\n}\n// For preflight OPTIONS requests; req is optional so callers may pass nothing\nfunction handleOptions(req) {\n    const originHeader = req?.headers.get(\"origin\") || \"\";\n    const origin = allowedOrigins.includes(originHeader) ? originHeader : allowedOrigins[0];\n    const res = new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(null, {\n        status: 204\n    });\n    res.headers.set(\"Access-Control-Allow-Origin\", origin);\n    res.headers.set(\"Access-Control-Allow-Methods\", \"GET,POST,PUT,DELETE,OPTIONS\");\n    res.headers.set(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\n    res.headers.set(\"Access-Control-Allow-Credentials\", \"true\");\n    return res;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY29ycy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSw4Q0FBOEM7QUFFOUMsOEJBQThCO0FBQzlCLCtDQUErQztBQUMvQyxXQUFXO0FBQ1gsUUFBUTtBQUVSLHFFQUFxRTtBQUNyRSx3REFBd0Q7QUFFeEQsaUZBQWlGO0FBQ2pGLHVGQUF1RjtBQUN2Rix1RkFBdUY7QUFDdkYsb0VBQW9FO0FBRXBFLG1CQUFtQjtBQUNuQixPQUFPO0FBRVAsdUNBQXVDO0FBQ3ZDLHVDQUF1QztBQUN2Qyw0REFBNEQ7QUFDNUQsaUZBQWlGO0FBQ2pGLHVGQUF1RjtBQUN2Rix1RkFBdUY7QUFDdkYsb0VBQW9FO0FBQ3BFLG1CQUFtQjtBQUNuQixPQUFPO0FBQ2lEO0FBRXhELE1BQU1DLGlCQUFpQjtJQUFDQyx1QkFBZ0MsSUFBSSxDQUFrQztJQUMxRjtDQUNIO0FBRU0sU0FBU0csYUFBYUMsSUFBUyxFQUFFQyxTQUFpQixHQUFHO0lBQzFELE1BQU1DLE1BQU1SLHFEQUFZQSxDQUFDUyxJQUFJLENBQUNILE1BQU07UUFBRUM7SUFBTztJQUU3QywwRUFBMEU7SUFDMUUsTUFBTUcsU0FBU1QsY0FBYyxDQUFDLEVBQUU7SUFFaENPLElBQUlHLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLCtCQUErQkY7SUFDL0NGLElBQUlHLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGdDQUFnQztJQUNoREosSUFBSUcsT0FBTyxDQUFDQyxHQUFHLENBQUMsZ0NBQWdDO0lBQ2hESixJQUFJRyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxvQ0FBb0M7SUFFcEQsT0FBT0o7QUFDVDtBQUVBLDhFQUE4RTtBQUN2RSxTQUFTSyxjQUFjQyxHQUFpQjtJQUM3QyxNQUFNQyxlQUFlRCxLQUFLSCxRQUFRSyxJQUFJLGFBQWE7SUFDbkQsTUFBTU4sU0FBU1QsZUFBZWdCLFFBQVEsQ0FBQ0YsZ0JBQWdCQSxlQUFlZCxjQUFjLENBQUMsRUFBRTtJQUV2RixNQUFNTyxNQUFNLElBQUlSLHFEQUFZQSxDQUFDLE1BQU07UUFBRU8sUUFBUTtJQUFJO0lBQ2pEQyxJQUFJRyxPQUFPLENBQUNDLEdBQUcsQ0FBQywrQkFBK0JGO0lBQy9DRixJQUFJRyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxnQ0FBZ0M7SUFDaERKLElBQUlHLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGdDQUFnQztJQUNoREosSUFBSUcsT0FBTyxDQUFDQyxHQUFHLENBQUMsb0NBQW9DO0lBRXBELE9BQU9KO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LW1hbmFnZW1lbnQvLi9saWIvY29ycy50cz9mMmQyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuXG4vLyAvLyBjb25zdCBhbGxvd2VkT3JpZ2lucyA9IFtcbi8vIC8vICAgLy8gXCJodHRwczovL3dvcmtwaWxvdC1mLm9ucmVuZGVyLmNvbVwiLCBcbi8vIC8vICAgXCJcIixcbi8vIC8vIF07XG5cbi8vIC8vIGV4cG9ydCBmdW5jdGlvbiBjb3JzUmVzcG9uc2UoZGF0YTogYW55LCBzdGF0dXM6IG51bWJlciA9IDIwMCkge1xuLy8gLy8gICBjb25zdCByZXMgPSBOZXh0UmVzcG9uc2UuanNvbihkYXRhLCB7IHN0YXR1cyB9KTtcblxuLy8gLy8gICByZXMuaGVhZGVycy5zZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgYWxsb3dlZE9yaWdpbnMuam9pbihcIixcIikpO1xuLy8gLy8gICByZXMuaGVhZGVycy5zZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCIsIFwiR0VULFBPU1QsUFVULERFTEVURSxPUFRJT05TXCIpO1xuLy8gLy8gICByZXMuaGVhZGVycy5zZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzXCIsIFwiQ29udGVudC1UeXBlLCBBdXRob3JpemF0aW9uXCIpO1xuLy8gLy8gICByZXMuaGVhZGVycy5zZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFsc1wiLCBcInRydWVcIik7XG5cbi8vIC8vICAgcmV0dXJuIHJlcztcbi8vIC8vIH1cblxuLy8gLy8gLy8gRm9yIHByZWZsaWdodCBPUFRJT05TIHJlcXVlc3RzXG4vLyAvLyBleHBvcnQgZnVuY3Rpb24gaGFuZGxlT3B0aW9ucygpIHtcbi8vIC8vICAgY29uc3QgcmVzID0gbmV3IE5leHRSZXNwb25zZShudWxsLCB7IHN0YXR1czogMjA0IH0pO1xuLy8gLy8gICByZXMuaGVhZGVycy5zZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgYWxsb3dlZE9yaWdpbnMuam9pbihcIixcIikpO1xuLy8gLy8gICByZXMuaGVhZGVycy5zZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCIsIFwiR0VULFBPU1QsUFVULERFTEVURSxPUFRJT05TXCIpO1xuLy8gLy8gICByZXMuaGVhZGVycy5zZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzXCIsIFwiQ29udGVudC1UeXBlLCBBdXRob3JpemF0aW9uXCIpO1xuLy8gLy8gICByZXMuaGVhZGVycy5zZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFsc1wiLCBcInRydWVcIik7XG4vLyAvLyAgIHJldHVybiByZXM7XG4vLyAvLyB9XG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UsIE5leHRSZXF1ZXN0IH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5cbmNvbnN0IGFsbG93ZWRPcmlnaW5zID0gW3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBU0VfVVJMIHx8IFwiaHR0cHM6Ly93b3JrcGlsb3QtZi5vbnJlbmRlci5jb21cIiwgXG4gICAgXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIixcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3JzUmVzcG9uc2UoZGF0YTogYW55LCBzdGF0dXM6IG51bWJlciA9IDIwMCkge1xuICBjb25zdCByZXMgPSBOZXh0UmVzcG9uc2UuanNvbihkYXRhLCB7IHN0YXR1cyB9KTtcblxuICAvLyBVc2UgY29uZmlndXJlZCBhbGxvd2VkIG9yaWdpbiAoZG9uJ3QgdHJ5IHRvIHJlYWQgZnJvbSByZXNwb25zZSBoZWFkZXJzKVxuICBjb25zdCBvcmlnaW4gPSBhbGxvd2VkT3JpZ2luc1swXTtcblxuICByZXMuaGVhZGVycy5zZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgb3JpZ2luKTtcbiAgcmVzLmhlYWRlcnMuc2V0KFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kc1wiLCBcIkdFVCxQT1NULFBVVCxERUxFVEUsT1BUSU9OU1wiKTtcbiAgcmVzLmhlYWRlcnMuc2V0KFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBcIkNvbnRlbnQtVHlwZSwgQXV0aG9yaXphdGlvblwiKTtcbiAgcmVzLmhlYWRlcnMuc2V0KFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHNcIiwgXCJ0cnVlXCIpO1xuXG4gIHJldHVybiByZXM7XG59XG5cbi8vIEZvciBwcmVmbGlnaHQgT1BUSU9OUyByZXF1ZXN0czsgcmVxIGlzIG9wdGlvbmFsIHNvIGNhbGxlcnMgbWF5IHBhc3Mgbm90aGluZ1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZU9wdGlvbnMocmVxPzogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3Qgb3JpZ2luSGVhZGVyID0gcmVxPy5oZWFkZXJzLmdldChcIm9yaWdpblwiKSB8fCBcIlwiO1xuICBjb25zdCBvcmlnaW4gPSBhbGxvd2VkT3JpZ2lucy5pbmNsdWRlcyhvcmlnaW5IZWFkZXIpID8gb3JpZ2luSGVhZGVyIDogYWxsb3dlZE9yaWdpbnNbMF07XG5cbiAgY29uc3QgcmVzID0gbmV3IE5leHRSZXNwb25zZShudWxsLCB7IHN0YXR1czogMjA0IH0pO1xuICByZXMuaGVhZGVycy5zZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgb3JpZ2luKTtcbiAgcmVzLmhlYWRlcnMuc2V0KFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kc1wiLCBcIkdFVCxQT1NULFBVVCxERUxFVEUsT1BUSU9OU1wiKTtcbiAgcmVzLmhlYWRlcnMuc2V0KFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBcIkNvbnRlbnQtVHlwZSwgQXV0aG9yaXphdGlvblwiKTtcbiAgcmVzLmhlYWRlcnMuc2V0KFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHNcIiwgXCJ0cnVlXCIpO1xuXG4gIHJldHVybiByZXM7XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImFsbG93ZWRPcmlnaW5zIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0JBU0VfVVJMIiwiY29yc1Jlc3BvbnNlIiwiZGF0YSIsInN0YXR1cyIsInJlcyIsImpzb24iLCJvcmlnaW4iLCJoZWFkZXJzIiwic2V0IiwiaGFuZGxlT3B0aW9ucyIsInJlcSIsIm9yaWdpbkhlYWRlciIsImdldCIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/cors.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ dbConnect)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nlet MONGODB_URL = undefined;\nif (true) {\n    MONGODB_URL = process.env.MONGODB_URL;\n    if (!MONGODB_URL) {\n        throw new Error(\"MONGODB_URL is not defined in environment variables\");\n    }\n}\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (false) {}\n    if (cached.conn) return cached.conn;\n    if (!cached.promise) {\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URL, {\n            bufferCommands: false,\n            dbName: \"kiitverse\"\n        });\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLElBQUlDLGNBQWtDQztBQUN0QyxJQUFJLElBQTZCLEVBQUU7SUFDakNELGNBQWNFLFFBQVFDLEdBQUcsQ0FBQ0gsV0FBVztJQUNyQyxJQUFJLENBQUNBLGFBQWE7UUFDaEIsTUFBTSxJQUFJSSxNQUFNO0lBQ2xCO0FBQ0Y7QUFFQSxJQUFJQyxTQUFTLE9BQWdCTixRQUFRO0FBQ3JDLElBQUksQ0FBQ00sUUFBUTtJQUNYQSxTQUFTLE9BQWdCTixRQUFRLEdBQUc7UUFBRVEsTUFBTTtRQUFNQyxTQUFTO0lBQUs7QUFDbEU7QUFFZSxlQUFlQztJQUM1QixJQUFJLEtBQTZCLEVBQUUsRUFFbEM7SUFFRCxJQUFJSixPQUFPRSxJQUFJLEVBQUUsT0FBT0YsT0FBT0UsSUFBSTtJQUVuQyxJQUFJLENBQUNGLE9BQU9HLE9BQU8sRUFBRTtRQUNuQkgsT0FBT0csT0FBTyxHQUFHVCx1REFBZ0IsQ0FBQ0MsYUFBYztZQUM5Q1csZ0JBQWdCO1lBQ2hCQyxRQUFRO1FBQ1Y7SUFDRjtJQUVBUCxPQUFPRSxJQUFJLEdBQUcsTUFBTUYsT0FBT0csT0FBTztJQUNsQyxPQUFPSCxPQUFPRSxJQUFJO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1tYW5hZ2VtZW50Ly4vbGliL2RiLnRzPzFkZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuXG5sZXQgTU9OR09EQl9VUkw6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gIE1PTkdPREJfVVJMID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkwgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBpZiAoIU1PTkdPREJfVVJMKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTU9OR09EQl9VUkwgaXMgbm90IGRlZmluZWQgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzXCIpO1xuICB9XG59XG5cbmxldCBjYWNoZWQgPSAoZ2xvYmFsIGFzIGFueSkubW9uZ29vc2U7XG5pZiAoIWNhY2hlZCkge1xuICBjYWNoZWQgPSAoZ2xvYmFsIGFzIGFueSkubW9uZ29vc2UgPSB7IGNvbm46IG51bGwsIHByb21pc2U6IG51bGwgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gZGJDb25uZWN0KCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAoY2FjaGVkLmNvbm4pIHJldHVybiBjYWNoZWQuY29ubjtcblxuICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XG4gICAgY2FjaGVkLnByb21pc2UgPSBtb25nb29zZS5jb25uZWN0KE1PTkdPREJfVVJMISwge1xuICAgICAgYnVmZmVyQ29tbWFuZHM6IGZhbHNlLFxuICAgICAgZGJOYW1lOiBcImtpaXR2ZXJzZVwiLFxuICAgIH0pO1xuICB9XG5cbiAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcbiAgcmV0dXJuIGNhY2hlZC5jb25uO1xufVxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiTU9OR09EQl9VUkwiLCJ1bmRlZmluZWQiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImRiQ29ubmVjdCIsImNvbm5lY3QiLCJidWZmZXJDb21tYW5kcyIsImRiTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/permissions.ts":
/*!****************************!*\
  !*** ./lib/permissions.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   can: () => (/* binding */ can),\n/* harmony export */   canDomainMember: () => (/* binding */ canDomainMember),\n/* harmony export */   canProject: () => (/* binding */ canProject),\n/* harmony export */   canProjectMember: () => (/* binding */ canProjectMember),\n/* harmony export */   canRequest: () => (/* binding */ canRequest)\n/* harmony export */ });\nconst applyprojectPermission = {\n    Member: [\n        \"view\",\n        \"apply\"\n    ]\n};\n// âœ… Announcement Permissions\nconst announcementPermission = {\n    Admin: [\n        \"create\",\n        \"update\",\n        \"delete\",\n        \"view\",\n        \"pin\",\n        \"unpin\"\n    ],\n    Lead: [\n        \"create\",\n        \"update\",\n        \"delete\",\n        \"view\",\n        \"pin\",\n        \"unpin\"\n    ],\n    ProjectLead: [\n        \"create\",\n        \"update\",\n        \"view\"\n    ],\n    CoLead: [\n        \"create\",\n        \"update\",\n        \"view\"\n    ],\n    Member: [\n        \"view\"\n    ]\n};\n// ðŸ”¹ Normalize any string to a canonical role\nfunction normalizeRole(role) {\n    if (!role) return null;\n    const lower = role.toLowerCase();\n    switch(lower){\n        case \"admin\":\n            return \"Admin\";\n        case \"lead\":\n            return \"Lead\";\n        case \"member\":\n            return \"Member\";\n        case \"projectlead\":\n            return \"ProjectLead\";\n        case \"colead\":\n            return \"CoLead\";\n        default:\n            return null;\n    }\n}\n// âœ… Announcement Permission Checker\nfunction can(role, action) {\n    const normalized = normalizeRole(role);\n    return !!(normalized && announcementPermission[normalized].includes(action));\n}\n// âœ… Request Permissions\nconst requestPermission = {\n    Admin: [\n        \"create\",\n        \"approverequest\",\n        \"rejectrequest\",\n        \"view\"\n    ],\n    Lead: [\n        \"create\",\n        \"approverequest\",\n        \"rejectrequest\",\n        \"view\"\n    ],\n    ProjectLead: [\n        \"create\",\n        \"view\"\n    ],\n    CoLead: [\n        \"create\",\n        \"view\"\n    ],\n    Member: [\n        \"create\",\n        \"view\"\n    ]\n};\nfunction canRequest(role, action) {\n    const normalized = normalizeRole(role);\n    return !!(normalized && requestPermission[normalized].includes(action));\n}\n// âœ… Project Permissions\nconst projectPermission = {\n    Admin: [\n        \"create\",\n        \"update\",\n        \"delete\",\n        \"view\"\n    ],\n    Lead: [\n        \"create\",\n        \"update\",\n        \"delete\",\n        \"view\"\n    ],\n    ProjectLead: [\n        \"update\",\n        \"delete\",\n        \"view\"\n    ],\n    CoLead: [\n        \"update\",\n        \"delete\",\n        \"view\"\n    ],\n    Member: [\n        \"view\"\n    ]\n};\nfunction canProject(role, action) {\n    const normalized = normalizeRole(role);\n    return !!(normalized && projectPermission[normalized].includes(action));\n}\n// âœ… Domain Member Permissions\nconst domainMemberPermission = {\n    Admin: [\n        \"update\",\n        \"delete\",\n        \"view\"\n    ],\n    Lead: [\n        \"update\",\n        \"delete\",\n        \"view\"\n    ],\n    ProjectLead: [\n        \"view\"\n    ],\n    CoLead: [\n        \"view\"\n    ],\n    Member: []\n};\nfunction canDomainMember(role, action) {\n    const normalized = normalizeRole(role);\n    return !!(normalized && domainMemberPermission[normalized].includes(action));\n}\nconst projectMemberPermission = {\n    Admin: [\n        \"approve\",\n        \"reject\",\n        \"view\",\n        \"remove\"\n    ],\n    Lead: [\n        \"approve\",\n        \"reject\",\n        \"view\",\n        \"remove\"\n    ],\n    ProjectLead: [\n        \"approve\",\n        \"reject\",\n        \"view\",\n        \"remove\"\n    ],\n    CoLead: [\n        \"approve\",\n        \"reject\",\n        \"view\"\n    ],\n    Member: []\n};\nfunction canProjectMember(role, action) {\n    const normalized = normalizeRole(role);\n    return !!(normalized && projectMemberPermission[normalized].includes(action));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO1FBQVc7UUFBVTtRQUFRO0tBQVM7SUFDcERDLFFBQVE7UUFBQztRQUFXO1FBQVU7S0FBTztJQUNyQ0wsUUFBUSxFQUFFO0FBQ1o7QUFFTyxTQUFTcUIsaUJBQWlCZCxJQUF3QixFQUFFSSxNQUE0QjtJQUNyRixNQUFNQyxhQUFhTixjQUFjQztJQUNqQyxPQUFPLENBQUMsQ0FBRUssQ0FBQUEsY0FBY1EsdUJBQXVCLENBQUNSLFdBQVcsQ0FBQ0MsUUFBUSxDQUFDRixPQUFNO0FBQzdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1tYW5hZ2VtZW50Ly4vbGliL3Blcm1pc3Npb25zLnRzPzAxOTkiXSwic291cmNlc0NvbnRlbnQiOlsidHlwZSBCYXNlUm9sZSA9IFwiQWRtaW5cIiB8IFwiTGVhZFwiIHwgXCJNZW1iZXJcIiB8IFwiUHJvamVjdExlYWRcIiB8IFwiQ29MZWFkXCI7XG5cbnR5cGUgQWN0aW9uQW5ub3VuY2VtZW50ID0gXCJjcmVhdGVcIiB8IFwidXBkYXRlXCIgfCBcImRlbGV0ZVwiIHwgXCJ2aWV3XCIgfCBcInBpblwiIHwgXCJ1bnBpblwiO1xudHlwZSBBY3Rpb25Qcm9qZWN0ID0gXCJjcmVhdGVcIiB8IFwidXBkYXRlXCIgfCBcImRlbGV0ZVwiIHwgXCJ2aWV3XCI7XG50eXBlIEFjdGlvblJlcXVlc3QgPSBcImNyZWF0ZVwiIHwgXCJhcHByb3ZlcmVxdWVzdFwiIHwgXCJyZWplY3RyZXF1ZXN0XCIgfCBcInZpZXdcIjtcbnR5cGUgQWN0aW9uRG9tYWluTWVtYmVyID0gXCJ1cGRhdGVcIiB8IFwiZGVsZXRlXCIgfCBcInZpZXdcIjtcbnR5cGUgQWN0aW9uUHJvamVjdE1lbWJlcnMgPSBcImFwcHJvdmVcIiB8IFwicmVqZWN0XCIgfCBcInZpZXdcIiB8IFwicmVtb3ZlXCI7XG50eXBlIEFwcGx5UHJvamVjdCA9IFwidmlld1wiIHwgXCJhcHBseVwiO1xuXG5jb25zdCBhcHBseXByb2plY3RQZXJtaXNzaW9uOiBSZWNvcmQ8RXh0cmFjdDxCYXNlUm9sZSwgXCJNZW1iZXJcIj4sIEFwcGx5UHJvamVjdFtdPiA9IHtcbiAgTWVtYmVyOiBbXCJ2aWV3XCIsIFwiYXBwbHlcIl0sXG59O1xuXG4vLyDinIUgQW5ub3VuY2VtZW50IFBlcm1pc3Npb25zXG5jb25zdCBhbm5vdW5jZW1lbnRQZXJtaXNzaW9uOiBSZWNvcmQ8QmFzZVJvbGUsIEFjdGlvbkFubm91bmNlbWVudFtdPiA9IHtcbiAgQWRtaW46IFtcImNyZWF0ZVwiLCBcInVwZGF0ZVwiLCBcImRlbGV0ZVwiLCBcInZpZXdcIiwgXCJwaW5cIiwgXCJ1bnBpblwiXSxcbiAgTGVhZDogW1wiY3JlYXRlXCIsIFwidXBkYXRlXCIsIFwiZGVsZXRlXCIsIFwidmlld1wiLCBcInBpblwiLCBcInVucGluXCJdLFxuICBQcm9qZWN0TGVhZDogW1wiY3JlYXRlXCIsIFwidXBkYXRlXCIsIFwidmlld1wiXSxcbiAgQ29MZWFkOiBbXCJjcmVhdGVcIiwgXCJ1cGRhdGVcIiwgXCJ2aWV3XCJdLFxuICBNZW1iZXI6IFtcInZpZXdcIl0sXG59O1xuXG4vLyDwn5S5IE5vcm1hbGl6ZSBhbnkgc3RyaW5nIHRvIGEgY2Fub25pY2FsIHJvbGVcbmZ1bmN0aW9uIG5vcm1hbGl6ZVJvbGUocm9sZTogc3RyaW5nIHwgdW5kZWZpbmVkKTogQmFzZVJvbGUgfCBudWxsIHtcbiAgaWYgKCFyb2xlKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgbG93ZXIgPSByb2xlLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAobG93ZXIpIHtcbiAgICBjYXNlIFwiYWRtaW5cIjpcbiAgICAgIHJldHVybiBcIkFkbWluXCI7XG4gICAgY2FzZSBcImxlYWRcIjpcbiAgICAgIHJldHVybiBcIkxlYWRcIjtcbiAgICBjYXNlIFwibWVtYmVyXCI6XG4gICAgICByZXR1cm4gXCJNZW1iZXJcIjtcbiAgICBjYXNlIFwicHJvamVjdGxlYWRcIjpcbiAgICAgIHJldHVybiBcIlByb2plY3RMZWFkXCI7XG4gICAgY2FzZSBcImNvbGVhZFwiOlxuICAgICAgcmV0dXJuIFwiQ29MZWFkXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vIOKchSBBbm5vdW5jZW1lbnQgUGVybWlzc2lvbiBDaGVja2VyXG5leHBvcnQgZnVuY3Rpb24gY2FuKHJvbGU6IHN0cmluZyB8IHVuZGVmaW5lZCwgYWN0aW9uOiBBY3Rpb25Bbm5vdW5jZW1lbnQpOiBib29sZWFuIHtcbiAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVJvbGUocm9sZSk7XG4gIHJldHVybiAhIShub3JtYWxpemVkICYmIGFubm91bmNlbWVudFBlcm1pc3Npb25bbm9ybWFsaXplZF0uaW5jbHVkZXMoYWN0aW9uKSk7XG59XG5cbi8vIOKchSBSZXF1ZXN0IFBlcm1pc3Npb25zXG5jb25zdCByZXF1ZXN0UGVybWlzc2lvbjogUmVjb3JkPEJhc2VSb2xlLCBBY3Rpb25SZXF1ZXN0W10+ID0ge1xuICBBZG1pbjogW1wiY3JlYXRlXCIsIFwiYXBwcm92ZXJlcXVlc3RcIiwgXCJyZWplY3RyZXF1ZXN0XCIsIFwidmlld1wiXSxcbiAgTGVhZDogW1wiY3JlYXRlXCIsIFwiYXBwcm92ZXJlcXVlc3RcIiwgXCJyZWplY3RyZXF1ZXN0XCIsIFwidmlld1wiXSxcbiAgUHJvamVjdExlYWQ6IFtcImNyZWF0ZVwiLCBcInZpZXdcIl0sXG4gIENvTGVhZDogW1wiY3JlYXRlXCIsIFwidmlld1wiXSxcbiAgTWVtYmVyOiBbXCJjcmVhdGVcIiwgXCJ2aWV3XCJdLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNhblJlcXVlc3Qocm9sZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBhY3Rpb246IEFjdGlvblJlcXVlc3QpOiBib29sZWFuIHtcbiAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVJvbGUocm9sZSk7XG4gIHJldHVybiAhIShub3JtYWxpemVkICYmIHJlcXVlc3RQZXJtaXNzaW9uW25vcm1hbGl6ZWRdLmluY2x1ZGVzKGFjdGlvbikpO1xufVxuXG4vLyDinIUgUHJvamVjdCBQZXJtaXNzaW9uc1xuY29uc3QgcHJvamVjdFBlcm1pc3Npb246IFJlY29yZDxCYXNlUm9sZSwgQWN0aW9uUHJvamVjdFtdPiA9IHtcbiAgQWRtaW46IFtcImNyZWF0ZVwiLCBcInVwZGF0ZVwiLCBcImRlbGV0ZVwiLCBcInZpZXdcIl0sXG4gIExlYWQ6IFtcImNyZWF0ZVwiLCBcInVwZGF0ZVwiLCBcImRlbGV0ZVwiLCBcInZpZXdcIl0sXG4gIFByb2plY3RMZWFkOiBbXCJ1cGRhdGVcIiwgXCJkZWxldGVcIiwgXCJ2aWV3XCJdLFxuICBDb0xlYWQ6IFtcInVwZGF0ZVwiLCBcImRlbGV0ZVwiLFwidmlld1wiXSxcbiAgTWVtYmVyOiBbXCJ2aWV3XCJdLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNhblByb2plY3Qocm9sZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBhY3Rpb246IEFjdGlvblByb2plY3QpOiBib29sZWFuIHtcbiAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVJvbGUocm9sZSk7XG4gIHJldHVybiAhIShub3JtYWxpemVkICYmIHByb2plY3RQZXJtaXNzaW9uW25vcm1hbGl6ZWRdLmluY2x1ZGVzKGFjdGlvbikpO1xufVxuXG4vLyDinIUgRG9tYWluIE1lbWJlciBQZXJtaXNzaW9uc1xuY29uc3QgZG9tYWluTWVtYmVyUGVybWlzc2lvbjogUmVjb3JkPEJhc2VSb2xlLCBBY3Rpb25Eb21haW5NZW1iZXJbXT4gPSB7XG4gIEFkbWluOiBbXCJ1cGRhdGVcIiwgXCJkZWxldGVcIiwgXCJ2aWV3XCJdLFxuICBMZWFkOiBbXCJ1cGRhdGVcIiwgXCJkZWxldGVcIiwgXCJ2aWV3XCJdLFxuICBQcm9qZWN0TGVhZDogW1widmlld1wiXSxcbiAgQ29MZWFkOiBbXCJ2aWV3XCJdLFxuICBNZW1iZXI6IFtdLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNhbkRvbWFpbk1lbWJlcihyb2xlOiBzdHJpbmcgfCB1bmRlZmluZWQsIGFjdGlvbjogQWN0aW9uRG9tYWluTWVtYmVyKTogYm9vbGVhbiB7XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVSb2xlKHJvbGUpO1xuICByZXR1cm4gISEobm9ybWFsaXplZCAmJiBkb21haW5NZW1iZXJQZXJtaXNzaW9uW25vcm1hbGl6ZWRdLmluY2x1ZGVzKGFjdGlvbikpO1xufVxuXG5jb25zdCBwcm9qZWN0TWVtYmVyUGVybWlzc2lvbjogUmVjb3JkPEJhc2VSb2xlLCBBY3Rpb25Qcm9qZWN0TWVtYmVyc1tdPiA9IHtcbiAgQWRtaW46IFtcImFwcHJvdmVcIiwgXCJyZWplY3RcIiwgXCJ2aWV3XCIsIFwicmVtb3ZlXCJdLFxuICBMZWFkOiBbXCJhcHByb3ZlXCIsIFwicmVqZWN0XCIsIFwidmlld1wiLCBcInJlbW92ZVwiXSxcbiAgUHJvamVjdExlYWQ6IFtcImFwcHJvdmVcIiwgXCJyZWplY3RcIiwgXCJ2aWV3XCIsIFwicmVtb3ZlXCJdLFxuICBDb0xlYWQ6IFtcImFwcHJvdmVcIiwgXCJyZWplY3RcIiwgXCJ2aWV3XCJdLFxuICBNZW1iZXI6IFtdLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNhblByb2plY3RNZW1iZXIocm9sZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBhY3Rpb246IEFjdGlvblByb2plY3RNZW1iZXJzKTogYm9vbGVhbiB7XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVSb2xlKHJvbGUpO1xuICByZXR1cm4gISEobm9ybWFsaXplZCAmJiBwcm9qZWN0TWVtYmVyUGVybWlzc2lvbltub3JtYWxpemVkXS5pbmNsdWRlcyhhY3Rpb24pKTtcbn1cbiJdLCJuYW1lcyI6WyJhcHBseXByb2plY3RQZXJtaXNzaW9uIiwiTWVtYmVyIiwiYW5ub3VuY2VtZW50UGVybWlzc2lvbiIsIkFkbWluIiwiTGVhZCIsIlByb2plY3RMZWFkIiwiQ29MZWFkIiwibm9ybWFsaXplUm9sZSIsInJvbGUiLCJsb3dlciIsInRvTG93ZXJDYXNlIiwiY2FuIiwiYWN0aW9uIiwibm9ybWFsaXplZCIsImluY2x1ZGVzIiwicmVxdWVzdFBlcm1pc3Npb24iLCJjYW5SZXF1ZXN0IiwicHJvamVjdFBlcm1pc3Npb24iLCJjYW5Qcm9qZWN0IiwiZG9tYWluTWVtYmVyUGVybWlzc2lvbiIsImNhbkRvbWFpbk1lbWJlciIsInByb2plY3RNZW1iZXJQZXJtaXNzaW9uIiwiY2FuUHJvamVjdE1lbWJlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/permissions.ts\n");

/***/ }),

/***/ "(rsc)/./model/Projects.ts":
/*!***************************!*\
  !*** ./model/Projects.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst ProjectSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    github: {\n        type: String,\n        trim: true,\n        validate: {\n            validator (v) {\n                if (!v) return true;\n                try {\n                    new URL(v);\n                    return true;\n                } catch  {\n                    return false;\n                }\n            },\n            message: \"GitHub must be a valid URL\"\n        }\n    },\n    liveDemo: {\n        type: String,\n        trim: true,\n        validate: {\n            validator (v) {\n                if (!v) return true;\n                try {\n                    new URL(v);\n                    return true;\n                } catch  {\n                    return false;\n                }\n            },\n            message: \"Live Demo must be a valid URL\"\n        }\n    },\n    title: {\n        type: String,\n        required: true,\n        minlength: 3,\n        maxlength: 100,\n        trim: true\n    },\n    description: {\n        type: String,\n        required: true,\n        minlength: 10,\n        maxlength: 1000,\n        trim: true\n    },\n    domain: {\n        type: [\n            String\n        ],\n        required: true,\n        validate: [\n            (arr)=>arr.length > 0,\n            \"At least one domain required\"\n        ]\n    },\n    badge: {\n        type: String,\n        enum: [\n            \"active\",\n            \"completed\",\n            \"disabled\",\n            \"available\"\n        ],\n        default: \"active\"\n    },\n    projectlead: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"User\",\n        required: true\n    },\n    colead: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"User\"\n    },\n    members: [\n        {\n            type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n            ref: \"User\"\n        }\n    ],\n    membersCount: {\n        type: Number,\n        default: 1,\n        min: [\n            1,\n            \"Members count must be at least 1\"\n        ]\n    },\n    enrolled: {\n        type: Boolean,\n        default: false\n    },\n    approved: {\n        type: Boolean,\n        default: false\n    },\n    startDate: {\n        type: Date,\n        default: Date.now\n    },\n    completionDate: {\n        type: Date,\n        validate: {\n            validator (v) {\n                if (!v) return true;\n                if (!this.startDate) return true;\n                return v >= this.startDate;\n            },\n            message: \"Completion date must be after the start date\"\n        }\n    },\n    image: {\n        type: String,\n        validate: {\n            validator (v) {\n                if (!v) return true;\n                return /^https?:\\/\\/.+/.test(v) || v.startsWith(\"/uploads/\");\n            },\n            message: \"Image must be a valid URL\"\n        }\n    },\n    requests: [\n        {\n            user: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n                ref: \"User\"\n            },\n            status: {\n                type: String,\n                enum: [\n                    \"Pending\",\n                    \"Approved\",\n                    \"Rejected\"\n                ],\n                default: \"Pending\"\n            },\n            createdAt: {\n                type: Date,\n                default: Date.now\n            }\n        }\n    ]\n}, {\n    timestamps: true\n});\nProjectSchema.pre(\"save\", function(next) {\n    this.membersCount = this.members ? this.members.length || 1 : 1;\n    next();\n});\n// âœ… The safest universal Mongoose model declaration pattern\nconst ProjectModel = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models)?.Project || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Project\", ProjectSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProjectModel); // import mongoose, { Schema, Model, Document } from \"mongoose\";\n // export interface IProject extends Document {\n //   _id: mongoose.Types.ObjectId;\n //   title: string;\n //   description: string;\n //   domain: string[];\n //   github: string;\n //   liveDemo: string;\n //   startDate: Date;\n //   completionDate: Date;\n //   image: string;\n //   badge: \"active\" | \"completed\" | \"disabled\" | \"available\";\n //   projectlead: mongoose.Types.ObjectId;\n //   colead: mongoose.Types.ObjectId;\n //   members: mongoose.Types.ObjectId[];\n //   membersCount: number;\n //   enrolled?: boolean;\n //   approved: boolean;\n //   requests: {\n //     user: mongoose.Types.ObjectId;\n //     status: \"Pending\" | \"Approved\" | \"Rejected\";\n //     createdAt?: Date;\n //   }[];\n //   createdAt: Date;\n //   updatedAt: Date;\n // }\n // const ProjectSchema = new Schema<IProject>(\n //   {\n //     title: {\n //       type: String,\n //       required: [true, \"Title is required\"],\n //       minlength: [3, \"Title must be at least 3 characters long\"],\n //       maxlength: [100, \"Title cannot exceed 100 characters\"],\n //       trim: true,\n //     },\n //     description: {\n //       type: String,\n //       required: [true, \"Description is required\"],\n //       minlength: [10, \"Description must be at least 10 characters long\"],\n //       maxlength: [1000, \"Description cannot exceed 1000 characters\"],\n //       trim: true,\n //     },\n //     domain: {\n //       type: [String],\n //       required: true,\n //       validate: [\n //         {\n //           validator: (arr: string[]) => arr.length >= 1 && arr.length <= 3,\n //           message: \"You must provide between 1 and 3 domains.\",\n //         },\n //       ],\n //     },\n //     github: {\n //       type: String,\n //       required: [true, \"GitHub link is required\"],\n //       trim: true,\n //       validate: {\n //         validator(v: string) {\n //           return /^https:\\/\\/(www\\.)?github\\.com\\/.+/.test(v);\n //         },\n //         message: \"GitHub must be a valid GitHub repository URL\",\n //       },\n //     },\n //     liveDemo: {\n //       type: String,\n //       required: [true, \"Live demo link is required\"],\n //       trim: true,\n //       validate: {\n //         validator(v: string) {\n //           return /^https?:\\/\\/.+/.test(v);\n //         },\n //         message: \"Live Demo must be a valid URL\",\n //       },\n //     },\n //     startDate: {\n //       type: Date,\n //       required: [true, \"Project start date is required\"],\n //     },\n //     completionDate: {\n //       type: Date,\n //       required: [true, \"Project completion date is required\"],\n //       validate: {\n //         validator(this: IProject, v: Date) {\n //           if (!v) return true;\n //           return !this.startDate || v >= this.startDate;\n //         },\n //         message: \"Completion date must be after or equal to the start date\",\n //       },\n //     },\n //     image: {\n //       type: String,\n //       required: [true, \"Project image is required\"],\n //       validate: {\n //         validator(v: string) {\n //           return /^https?:\\/\\/.+/.test(v) || v.startsWith(\"/uploads/\");\n //         },\n //         message: \"Image must be a valid URL or Cloudinary link\",\n //       },\n //     },\n //     badge: {\n //       type: String,\n //       enum: [\"active\", \"completed\", \"disabled\", \"available\"],\n //       default: \"active\",\n //     },\n //     projectlead: {\n //       type: mongoose.Schema.Types.ObjectId,\n //       ref: \"User\",\n //       required: [true, \"Project lead is required\"],\n //     },\n //     colead: {\n //       type: mongoose.Schema.Types.ObjectId,\n //       ref: \"User\",\n //       required: [true, \"Co-lead is required\"],\n //     },\n //     members: [\n //       {\n //         type: mongoose.Schema.Types.ObjectId,\n //         ref: \"User\",\n //       },\n //     ],\n //     membersCount: {\n //       type: Number,\n //       default: 1,\n //       min: [1, \"Members count must be at least 1\"],\n //     },\n //     enrolled: {\n //       type: Boolean,\n //       default: false,\n //     },\n //     approved: {\n //       type: Boolean,\n //       default: false,\n //     },\n //     requests: [\n //       {\n //         user: { type: mongoose.Schema.Types.ObjectId, ref: \"User\" },\n //         status: {\n //           type: String,\n //           enum: [\"Pending\", \"Approved\", \"Rejected\"],\n //           default: \"Pending\",\n //         },\n //         createdAt: { type: Date, default: Date.now },\n //       },\n //     ],\n //   },\n //   { timestamps: true }\n // );\n // ProjectSchema.pre(\"save\", function (next) {\n //   this.membersCount = this.members?.length || 1;\n //   next();\n // });\n // const ProjectModel: Model<IProject> =\n //   mongoose.models?.Project ||\n //   mongoose.model<IProject>(\"Project\", ProjectSchema);\n // export default ProjectModel;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0NBQ3RCLG9CQUFvQjtDQUNwQixzREFBc0Q7Q0FDdEQsU0FBUztDQUNULGtCQUFrQjtDQUNsQix1QkFBdUI7Q0FDdkIsd0JBQXdCO0NBQ3hCLFNBQVM7Q0FDVCxrQkFBa0I7Q0FDbEIsdUJBQXVCO0NBQ3ZCLHdCQUF3QjtDQUN4QixTQUFTO0NBQ1Qsa0JBQWtCO0NBQ2xCLFVBQVU7Q0FDVix1RUFBdUU7Q0FDdkUsb0JBQW9CO0NBQ3BCLDBCQUEwQjtDQUMxQix1REFBdUQ7Q0FDdkQsZ0NBQWdDO0NBQ2hDLGFBQWE7Q0FDYix3REFBd0Q7Q0FDeEQsV0FBVztDQUNYLFNBQVM7Q0FDVCxPQUFPO0NBQ1AseUJBQXlCO0NBQ3pCLEtBQUs7Q0FFTCw4Q0FBOEM7Q0FDOUMsbURBQW1EO0NBQ25ELFlBQVk7Q0FDWixNQUFNO0NBRU4sd0NBQXdDO0NBQ3hDLGdDQUFnQztDQUNoQyx3REFBd0Q7Q0FFeEQsK0JBQStCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1tYW5hZ2VtZW50Ly4vbW9kZWwvUHJvamVjdHMudHM/ODA2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBNb2RlbCwgRG9jdW1lbnQgfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJUHJvamVjdCBleHRlbmRzIERvY3VtZW50IHtcbiAgX2lkOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZDtcbiAgZ2l0aHViPzogc3RyaW5nO1xuICBsaXZlRGVtbz86IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgZG9tYWluOiBzdHJpbmdbXTtcbiAgYmFkZ2U6IFwiYWN0aXZlXCIgfCBcImNvbXBsZXRlZFwiIHwgXCJkaXNhYmxlZFwiIHwgXCJhdmFpbGFibGVcIjtcbiAgcHJvamVjdGxlYWQ6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkO1xuICBpbWFnZTogc3RyaW5nO1xuICBjb2xlYWQ/OiBtb25nb29zZS5UeXBlcy5PYmplY3RJZDtcbiAgbWVtYmVyczogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWRbXTtcbiAgbWVtYmVyc0NvdW50OiBudW1iZXI7XG4gIGVucm9sbGVkPzogYm9vbGVhbjtcbiAgYXBwcm92ZWQ6IGJvb2xlYW47XG4gIHN0YXJ0RGF0ZT86IERhdGU7XG4gIGNvbXBsZXRpb25EYXRlPzogRGF0ZTtcbiAgcmVxdWVzdHM6IHtcbiAgICB1c2VyOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZDtcbiAgICBzdGF0dXM6IFwiUGVuZGluZ1wiIHwgXCJBcHByb3ZlZFwiIHwgXCJSZWplY3RlZFwiO1xuICAgIGNyZWF0ZWRBdD86IERhdGU7XG4gIH1bXTtcbiAgY3JlYXRlZEF0OiBEYXRlO1xuICB1cGRhdGVkQXQ6IERhdGU7XG59XG5cbmNvbnN0IFByb2plY3RTY2hlbWEgPSBuZXcgU2NoZW1hPElQcm9qZWN0PihcbiAge1xuICAgIGdpdGh1Yjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgIHZhbGlkYXRvcih2OiBzdHJpbmcpIHtcbiAgICAgICAgICBpZiAoIXYpIHJldHVybiB0cnVlO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBuZXcgVVJMKHYpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiBcIkdpdEh1YiBtdXN0IGJlIGEgdmFsaWQgVVJMXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAgbGl2ZURlbW86IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHRyaW06IHRydWUsXG4gICAgICB2YWxpZGF0ZToge1xuICAgICAgICB2YWxpZGF0b3Iodjogc3RyaW5nKSB7XG4gICAgICAgICAgaWYgKCF2KSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbmV3IFVSTCh2KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogXCJMaXZlIERlbW8gbXVzdCBiZSBhIHZhbGlkIFVSTFwiLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHRpdGxlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIG1pbmxlbmd0aDogMyxcbiAgICAgIG1heGxlbmd0aDogMTAwLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICB9LFxuICAgIGRlc2NyaXB0aW9uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIG1pbmxlbmd0aDogMTAsXG4gICAgICBtYXhsZW5ndGg6IDEwMDAsXG4gICAgICB0cmltOiB0cnVlLFxuICAgIH0sXG4gICAgZG9tYWluOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nXSxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgdmFsaWRhdGU6IFsoYXJyOiBzdHJpbmdbXSkgPT4gYXJyLmxlbmd0aCA+IDAsIFwiQXQgbGVhc3Qgb25lIGRvbWFpbiByZXF1aXJlZFwiXSxcbiAgICB9LFxuICAgIGJhZGdlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBlbnVtOiBbXCJhY3RpdmVcIiwgXCJjb21wbGV0ZWRcIiwgXCJkaXNhYmxlZFwiLCBcImF2YWlsYWJsZVwiXSxcbiAgICAgIGRlZmF1bHQ6IFwiYWN0aXZlXCIsXG4gICAgfSxcbiAgICBwcm9qZWN0bGVhZDoge1xuICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgICAgcmVmOiBcIlVzZXJcIixcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgY29sZWFkOiB7XG4gICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICByZWY6IFwiVXNlclwiLFxuICAgIH0sXG4gICAgbWVtYmVyczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgIHJlZjogXCJVc2VyXCIsXG4gICAgICB9LFxuICAgIF0sXG4gICAgbWVtYmVyc0NvdW50OiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiAxLFxuICAgICAgbWluOiBbMSwgXCJNZW1iZXJzIGNvdW50IG11c3QgYmUgYXQgbGVhc3QgMVwiXSxcbiAgICB9LFxuICAgIGVucm9sbGVkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gICAgYXBwcm92ZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICBzdGFydERhdGU6IHsgdHlwZTogRGF0ZSwgZGVmYXVsdDogRGF0ZS5ub3cgfSxcbiAgICBjb21wbGV0aW9uRGF0ZToge1xuICAgICAgdHlwZTogRGF0ZSxcbiAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgIHZhbGlkYXRvcih0aGlzOiBJUHJvamVjdCwgdjogRGF0ZSkge1xuICAgICAgICAgIGlmICghdikgcmV0dXJuIHRydWU7XG4gICAgICAgICAgaWYgKCF0aGlzLnN0YXJ0RGF0ZSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgcmV0dXJuIHYgPj0gdGhpcy5zdGFydERhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6IFwiQ29tcGxldGlvbiBkYXRlIG11c3QgYmUgYWZ0ZXIgdGhlIHN0YXJ0IGRhdGVcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICBpbWFnZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgdmFsaWRhdG9yKHY6IHN0cmluZykge1xuICAgICAgICAgIGlmICghdikgcmV0dXJuIHRydWU7XG4gICAgICAgICAgcmV0dXJuIC9eaHR0cHM/OlxcL1xcLy4rLy50ZXN0KHYpIHx8IHYuc3RhcnRzV2l0aChcIi91cGxvYWRzL1wiKTtcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZTogXCJJbWFnZSBtdXN0IGJlIGEgdmFsaWQgVVJMXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAgcmVxdWVzdHM6IFtcbiAgICAgIHtcbiAgICAgICAgdXNlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJVc2VyXCIgfSxcbiAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgIGVudW06IFtcIlBlbmRpbmdcIiwgXCJBcHByb3ZlZFwiLCBcIlJlamVjdGVkXCJdLFxuICAgICAgICAgIGRlZmF1bHQ6IFwiUGVuZGluZ1wiLFxuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVkQXQ6IHsgdHlwZTogRGF0ZSwgZGVmYXVsdDogRGF0ZS5ub3cgfSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cbik7XG5cblByb2plY3RTY2hlbWEucHJlKFwic2F2ZVwiLCBmdW5jdGlvbiAobmV4dCkge1xuICB0aGlzLm1lbWJlcnNDb3VudCA9IHRoaXMubWVtYmVycyA/IHRoaXMubWVtYmVycy5sZW5ndGggfHwgMSA6IDE7XG4gIG5leHQoKTtcbn0pO1xuXG4vLyDinIUgVGhlIHNhZmVzdCB1bml2ZXJzYWwgTW9uZ29vc2UgbW9kZWwgZGVjbGFyYXRpb24gcGF0dGVyblxuY29uc3QgUHJvamVjdE1vZGVsOiBNb2RlbDxJUHJvamVjdD4gPVxuICBtb25nb29zZS5tb2RlbHM/LlByb2plY3QgfHxcbiAgbW9uZ29vc2UubW9kZWw8SVByb2plY3Q+KFwiUHJvamVjdFwiLCBQcm9qZWN0U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvamVjdE1vZGVsO1xuLy8gaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSwgTW9kZWwsIERvY3VtZW50IH0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbi8vIGV4cG9ydCBpbnRlcmZhY2UgSVByb2plY3QgZXh0ZW5kcyBEb2N1bWVudCB7XG4vLyAgIF9pZDogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQ7XG4vLyAgIHRpdGxlOiBzdHJpbmc7XG4vLyAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4vLyAgIGRvbWFpbjogc3RyaW5nW107XG4vLyAgIGdpdGh1Yjogc3RyaW5nO1xuLy8gICBsaXZlRGVtbzogc3RyaW5nO1xuLy8gICBzdGFydERhdGU6IERhdGU7XG4vLyAgIGNvbXBsZXRpb25EYXRlOiBEYXRlO1xuLy8gICBpbWFnZTogc3RyaW5nO1xuLy8gICBiYWRnZTogXCJhY3RpdmVcIiB8IFwiY29tcGxldGVkXCIgfCBcImRpc2FibGVkXCIgfCBcImF2YWlsYWJsZVwiO1xuLy8gICBwcm9qZWN0bGVhZDogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQ7XG4vLyAgIGNvbGVhZDogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQ7XG4vLyAgIG1lbWJlcnM6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkW107XG4vLyAgIG1lbWJlcnNDb3VudDogbnVtYmVyO1xuLy8gICBlbnJvbGxlZD86IGJvb2xlYW47XG4vLyAgIGFwcHJvdmVkOiBib29sZWFuO1xuLy8gICByZXF1ZXN0czoge1xuLy8gICAgIHVzZXI6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkO1xuLy8gICAgIHN0YXR1czogXCJQZW5kaW5nXCIgfCBcIkFwcHJvdmVkXCIgfCBcIlJlamVjdGVkXCI7XG4vLyAgICAgY3JlYXRlZEF0PzogRGF0ZTtcbi8vICAgfVtdO1xuLy8gICBjcmVhdGVkQXQ6IERhdGU7XG4vLyAgIHVwZGF0ZWRBdDogRGF0ZTtcbi8vIH1cblxuLy8gY29uc3QgUHJvamVjdFNjaGVtYSA9IG5ldyBTY2hlbWE8SVByb2plY3Q+KFxuLy8gICB7XG4vLyAgICAgdGl0bGU6IHtcbi8vICAgICAgIHR5cGU6IFN0cmluZyxcbi8vICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgXCJUaXRsZSBpcyByZXF1aXJlZFwiXSxcbi8vICAgICAgIG1pbmxlbmd0aDogWzMsIFwiVGl0bGUgbXVzdCBiZSBhdCBsZWFzdCAzIGNoYXJhY3RlcnMgbG9uZ1wiXSxcbi8vICAgICAgIG1heGxlbmd0aDogWzEwMCwgXCJUaXRsZSBjYW5ub3QgZXhjZWVkIDEwMCBjaGFyYWN0ZXJzXCJdLFxuLy8gICAgICAgdHJpbTogdHJ1ZSxcbi8vICAgICB9LFxuLy8gICAgIGRlc2NyaXB0aW9uOiB7XG4vLyAgICAgICB0eXBlOiBTdHJpbmcsXG4vLyAgICAgICByZXF1aXJlZDogW3RydWUsIFwiRGVzY3JpcHRpb24gaXMgcmVxdWlyZWRcIl0sXG4vLyAgICAgICBtaW5sZW5ndGg6IFsxMCwgXCJEZXNjcmlwdGlvbiBtdXN0IGJlIGF0IGxlYXN0IDEwIGNoYXJhY3RlcnMgbG9uZ1wiXSxcbi8vICAgICAgIG1heGxlbmd0aDogWzEwMDAsIFwiRGVzY3JpcHRpb24gY2Fubm90IGV4Y2VlZCAxMDAwIGNoYXJhY3RlcnNcIl0sXG4vLyAgICAgICB0cmltOiB0cnVlLFxuLy8gICAgIH0sXG4vLyAgICAgZG9tYWluOiB7XG4vLyAgICAgICB0eXBlOiBbU3RyaW5nXSxcbi8vICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuLy8gICAgICAgdmFsaWRhdGU6IFtcbi8vICAgICAgICAge1xuLy8gICAgICAgICAgIHZhbGlkYXRvcjogKGFycjogc3RyaW5nW10pID0+IGFyci5sZW5ndGggPj0gMSAmJiBhcnIubGVuZ3RoIDw9IDMsXG4vLyAgICAgICAgICAgbWVzc2FnZTogXCJZb3UgbXVzdCBwcm92aWRlIGJldHdlZW4gMSBhbmQgMyBkb21haW5zLlwiLFxuLy8gICAgICAgICB9LFxuLy8gICAgICAgXSxcbi8vICAgICB9LFxuLy8gICAgIGdpdGh1Yjoge1xuLy8gICAgICAgdHlwZTogU3RyaW5nLFxuLy8gICAgICAgcmVxdWlyZWQ6IFt0cnVlLCBcIkdpdEh1YiBsaW5rIGlzIHJlcXVpcmVkXCJdLFxuLy8gICAgICAgdHJpbTogdHJ1ZSxcbi8vICAgICAgIHZhbGlkYXRlOiB7XG4vLyAgICAgICAgIHZhbGlkYXRvcih2OiBzdHJpbmcpIHtcbi8vICAgICAgICAgICByZXR1cm4gL15odHRwczpcXC9cXC8od3d3XFwuKT9naXRodWJcXC5jb21cXC8uKy8udGVzdCh2KTtcbi8vICAgICAgICAgfSxcbi8vICAgICAgICAgbWVzc2FnZTogXCJHaXRIdWIgbXVzdCBiZSBhIHZhbGlkIEdpdEh1YiByZXBvc2l0b3J5IFVSTFwiLFxuLy8gICAgICAgfSxcbi8vICAgICB9LFxuLy8gICAgIGxpdmVEZW1vOiB7XG4vLyAgICAgICB0eXBlOiBTdHJpbmcsXG4vLyAgICAgICByZXF1aXJlZDogW3RydWUsIFwiTGl2ZSBkZW1vIGxpbmsgaXMgcmVxdWlyZWRcIl0sXG4vLyAgICAgICB0cmltOiB0cnVlLFxuLy8gICAgICAgdmFsaWRhdGU6IHtcbi8vICAgICAgICAgdmFsaWRhdG9yKHY6IHN0cmluZykge1xuLy8gICAgICAgICAgIHJldHVybiAvXmh0dHBzPzpcXC9cXC8uKy8udGVzdCh2KTtcbi8vICAgICAgICAgfSxcbi8vICAgICAgICAgbWVzc2FnZTogXCJMaXZlIERlbW8gbXVzdCBiZSBhIHZhbGlkIFVSTFwiLFxuLy8gICAgICAgfSxcbi8vICAgICB9LFxuLy8gICAgIHN0YXJ0RGF0ZToge1xuLy8gICAgICAgdHlwZTogRGF0ZSxcbi8vICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgXCJQcm9qZWN0IHN0YXJ0IGRhdGUgaXMgcmVxdWlyZWRcIl0sXG4vLyAgICAgfSxcbi8vICAgICBjb21wbGV0aW9uRGF0ZToge1xuLy8gICAgICAgdHlwZTogRGF0ZSxcbi8vICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgXCJQcm9qZWN0IGNvbXBsZXRpb24gZGF0ZSBpcyByZXF1aXJlZFwiXSxcbi8vICAgICAgIHZhbGlkYXRlOiB7XG4vLyAgICAgICAgIHZhbGlkYXRvcih0aGlzOiBJUHJvamVjdCwgdjogRGF0ZSkge1xuLy8gICAgICAgICAgIGlmICghdikgcmV0dXJuIHRydWU7XG4vLyAgICAgICAgICAgcmV0dXJuICF0aGlzLnN0YXJ0RGF0ZSB8fCB2ID49IHRoaXMuc3RhcnREYXRlO1xuLy8gICAgICAgICB9LFxuLy8gICAgICAgICBtZXNzYWdlOiBcIkNvbXBsZXRpb24gZGF0ZSBtdXN0IGJlIGFmdGVyIG9yIGVxdWFsIHRvIHRoZSBzdGFydCBkYXRlXCIsXG4vLyAgICAgICB9LFxuLy8gICAgIH0sXG4vLyAgICAgaW1hZ2U6IHtcbi8vICAgICAgIHR5cGU6IFN0cmluZyxcbi8vICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgXCJQcm9qZWN0IGltYWdlIGlzIHJlcXVpcmVkXCJdLFxuLy8gICAgICAgdmFsaWRhdGU6IHtcbi8vICAgICAgICAgdmFsaWRhdG9yKHY6IHN0cmluZykge1xuLy8gICAgICAgICAgIHJldHVybiAvXmh0dHBzPzpcXC9cXC8uKy8udGVzdCh2KSB8fCB2LnN0YXJ0c1dpdGgoXCIvdXBsb2Fkcy9cIik7XG4vLyAgICAgICAgIH0sXG4vLyAgICAgICAgIG1lc3NhZ2U6IFwiSW1hZ2UgbXVzdCBiZSBhIHZhbGlkIFVSTCBvciBDbG91ZGluYXJ5IGxpbmtcIixcbi8vICAgICAgIH0sXG4vLyAgICAgfSxcbi8vICAgICBiYWRnZToge1xuLy8gICAgICAgdHlwZTogU3RyaW5nLFxuLy8gICAgICAgZW51bTogW1wiYWN0aXZlXCIsIFwiY29tcGxldGVkXCIsIFwiZGlzYWJsZWRcIiwgXCJhdmFpbGFibGVcIl0sXG4vLyAgICAgICBkZWZhdWx0OiBcImFjdGl2ZVwiLFxuLy8gICAgIH0sXG4vLyAgICAgcHJvamVjdGxlYWQ6IHtcbi8vICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbi8vICAgICAgIHJlZjogXCJVc2VyXCIsXG4vLyAgICAgICByZXF1aXJlZDogW3RydWUsIFwiUHJvamVjdCBsZWFkIGlzIHJlcXVpcmVkXCJdLFxuLy8gICAgIH0sXG4vLyAgICAgY29sZWFkOiB7XG4vLyAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4vLyAgICAgICByZWY6IFwiVXNlclwiLFxuLy8gICAgICAgcmVxdWlyZWQ6IFt0cnVlLCBcIkNvLWxlYWQgaXMgcmVxdWlyZWRcIl0sXG4vLyAgICAgfSxcbi8vICAgICBtZW1iZXJzOiBbXG4vLyAgICAgICB7XG4vLyAgICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbi8vICAgICAgICAgcmVmOiBcIlVzZXJcIixcbi8vICAgICAgIH0sXG4vLyAgICAgXSxcbi8vICAgICBtZW1iZXJzQ291bnQ6IHtcbi8vICAgICAgIHR5cGU6IE51bWJlcixcbi8vICAgICAgIGRlZmF1bHQ6IDEsXG4vLyAgICAgICBtaW46IFsxLCBcIk1lbWJlcnMgY291bnQgbXVzdCBiZSBhdCBsZWFzdCAxXCJdLFxuLy8gICAgIH0sXG4vLyAgICAgZW5yb2xsZWQ6IHtcbi8vICAgICAgIHR5cGU6IEJvb2xlYW4sXG4vLyAgICAgICBkZWZhdWx0OiBmYWxzZSxcbi8vICAgICB9LFxuLy8gICAgIGFwcHJvdmVkOiB7XG4vLyAgICAgICB0eXBlOiBCb29sZWFuLFxuLy8gICAgICAgZGVmYXVsdDogZmFsc2UsXG4vLyAgICAgfSxcbi8vICAgICByZXF1ZXN0czogW1xuLy8gICAgICAge1xuLy8gICAgICAgICB1c2VyOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiBcIlVzZXJcIiB9LFxuLy8gICAgICAgICBzdGF0dXM6IHtcbi8vICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4vLyAgICAgICAgICAgZW51bTogW1wiUGVuZGluZ1wiLCBcIkFwcHJvdmVkXCIsIFwiUmVqZWN0ZWRcIl0sXG4vLyAgICAgICAgICAgZGVmYXVsdDogXCJQZW5kaW5nXCIsXG4vLyAgICAgICAgIH0sXG4vLyAgICAgICAgIGNyZWF0ZWRBdDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxuLy8gICAgICAgfSxcbi8vICAgICBdLFxuLy8gICB9LFxuLy8gICB7IHRpbWVzdGFtcHM6IHRydWUgfVxuLy8gKTtcblxuLy8gUHJvamVjdFNjaGVtYS5wcmUoXCJzYXZlXCIsIGZ1bmN0aW9uIChuZXh0KSB7XG4vLyAgIHRoaXMubWVtYmVyc0NvdW50ID0gdGhpcy5tZW1iZXJzPy5sZW5ndGggfHwgMTtcbi8vICAgbmV4dCgpO1xuLy8gfSk7XG5cbi8vIGNvbnN0IFByb2plY3RNb2RlbDogTW9kZWw8SVByb2plY3Q+ID1cbi8vICAgbW9uZ29vc2UubW9kZWxzPy5Qcm9qZWN0IHx8XG4vLyAgIG1vbmdvb3NlLm1vZGVsPElQcm9qZWN0PihcIlByb2plY3RcIiwgUHJvamVjdFNjaGVtYSk7XG5cbi8vIGV4cG9ydCBkZWZhdWx0IFByb2plY3RNb2RlbDtcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIlByb2plY3RTY2hlbWEiLCJnaXRodWIiLCJ0eXBlIiwiU3RyaW5nIiwidHJpbSIsInZhbGlkYXRlIiwidmFsaWRhdG9yIiwidiIsIlVSTCIsIm1lc3NhZ2UiLCJsaXZlRGVtbyIsInRpdGxlIiwicmVxdWlyZWQiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiLCJkZXNjcmlwdGlvbiIsImRvbWFpbiIsImFyciIsImxlbmd0aCIsImJhZGdlIiwiZW51bSIsImRlZmF1bHQiLCJwcm9qZWN0bGVhZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJjb2xlYWQiLCJtZW1iZXJzIiwibWVtYmVyc0NvdW50IiwiTnVtYmVyIiwibWluIiwiZW5yb2xsZWQiLCJCb29sZWFuIiwiYXBwcm92ZWQiLCJzdGFydERhdGUiLCJEYXRlIiwibm93IiwiY29tcGxldGlvbkRhdGUiLCJpbWFnZSIsInRlc3QiLCJzdGFydHNXaXRoIiwicmVxdWVzdHMiLCJ1c2VyIiwic3RhdHVzIiwiY3JlYXRlZEF0IiwidGltZXN0YW1wcyIsInByZSIsIm5leHQiLCJQcm9qZWN0TW9kZWwiLCJtb2RlbHMiLCJQcm9qZWN0IiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./model/Projects.ts\n");

/***/ }),

/***/ "(rsc)/./model/User.ts":
/*!***********************!*\
  !*** ./model/User.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    name: {\n        type: String,\n        required: [\n            true,\n            \"Name is required\"\n        ],\n        trim: true\n    },\n    email: {\n        type: String,\n        required: [\n            true,\n            \"Email is required\"\n        ],\n        unique: true,\n        match: [\n            /.+\\@.+\\..+/,\n            \"Please use a valid email\"\n        ]\n    },\n    password: {\n        type: String,\n        required: [\n            true,\n            \"Password is required\"\n        ]\n    },\n    rollNo: {\n        type: String,\n        required: [\n            true,\n            \"Roll number is required\"\n        ],\n        unique: true,\n        trim: true\n    },\n    role: {\n        type: String,\n        enum: [\n            \"Admin\",\n            \"Lead\",\n            \"Member\",\n            \"ProjectLead\",\n            \"CoLead\"\n        ],\n        default: \"Member\"\n    },\n    githubId: {\n        type: String,\n        required: [\n            true,\n            \"GithubId is required\"\n        ]\n    },\n    linkedinId: {\n        type: String,\n        required: [\n            true,\n            \"LinkedInId is required\"\n        ]\n    },\n    domain: {\n        type: String,\n        required: [\n            true,\n            \"Domain is required\"\n        ]\n    },\n    profilePic: {\n        type: String,\n        required: true\n    },\n    profilePicPublicId: {\n        type: String,\n        required: [\n            true,\n            \"ProfilePicPublicId is required\"\n        ],\n        default: function() {\n            return this._id.toString();\n        }\n    },\n    emailVerified: {\n        type: Boolean,\n        default: false\n    },\n    otp: {\n        type: String,\n        required: false\n    },\n    otpExpiry: {\n        type: Date,\n        required: false\n    },\n    projects: [\n        {\n            projectId: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n                ref: \"Project\",\n                required: true\n            },\n            projectName: {\n                type: String,\n                required: true\n            }\n        }\n    ],\n    ProjectCount: {\n        type: Number,\n        default: 0,\n        min: [\n            0,\n            \"Project count must be at least 0\"\n        ],\n        max: [\n            1000,\n            \"Project count cannot exceed 1000\"\n        ]\n    },\n    skills: {\n        type: [\n            String\n        ],\n        default: []\n    }\n}, {\n    timestamps: true,\n    toJSON: {\n        virtuals: true,\n        transform: function(doc, ret) {\n            const { __v, ...rest } = ret;\n            return rest;\n        }\n    },\n    toObject: {\n        virtuals: true\n    }\n});\nUserSchema.pre(\"save\", function(next) {\n    this.ProjectCount = this.projects ? this.projects.length : 0;\n    next();\n});\nconst UserModel = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", UserSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserModel);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9tb2RlbC9Vc2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRDtBQXNCdEQsTUFBTUUsYUFBMkIsSUFBSUQsNENBQU1BLENBQ3pDO0lBQ0VFLE1BQU07UUFBRUMsTUFBTUM7UUFBUUMsVUFBVTtZQUFDO1lBQU07U0FBbUI7UUFBRUMsTUFBTTtJQUFLO0lBQ3ZFQyxPQUFPO1FBQ0xKLE1BQU1DO1FBQ05DLFVBQVU7WUFBQztZQUFNO1NBQW9CO1FBQ3JDRyxRQUFRO1FBQ1JDLE9BQU87WUFBQztZQUFjO1NBQTJCO0lBQ25EO0lBQ0FDLFVBQVU7UUFBRVAsTUFBTUM7UUFBUUMsVUFBVTtZQUFDO1lBQU07U0FBdUI7SUFBQztJQUNuRU0sUUFBUTtRQUNOUixNQUFNQztRQUNOQyxVQUFVO1lBQUM7WUFBTTtTQUEwQjtRQUMzQ0csUUFBUTtRQUNSRixNQUFNO0lBQ1I7SUFDQU0sTUFBTTtRQUNKVCxNQUFNQztRQUNOUyxNQUFNO1lBQUM7WUFBUztZQUFRO1lBQVU7WUFBZTtTQUFTO1FBQzFEQyxTQUFTO0lBQ1g7SUFDQUMsVUFBVTtRQUFFWixNQUFNQztRQUFRQyxVQUFVO1lBQUM7WUFBTTtTQUF1QjtJQUFDO0lBQ25FVyxZQUFZO1FBQUViLE1BQU1DO1FBQVFDLFVBQVU7WUFBQztZQUFNO1NBQXlCO0lBQUM7SUFDdkVZLFFBQVE7UUFBRWQsTUFBTUM7UUFBUUMsVUFBVTtZQUFDO1lBQU07U0FBcUI7SUFBQztJQUMvRGEsWUFBWTtRQUFFZixNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDM0NjLG9CQUFvQjtRQUNsQmhCLE1BQU1DO1FBQ05DLFVBQVU7WUFBQztZQUFNO1NBQWlDO1FBQ2xEUyxTQUFTO1lBQ1AsT0FBTyxJQUFJLENBQUNNLEdBQUcsQ0FBQ0MsUUFBUTtRQUMxQjtJQUNGO0lBQ0FDLGVBQWU7UUFBRW5CLE1BQU1vQjtRQUFTVCxTQUFTO0lBQU07SUFDL0NVLEtBQUs7UUFBRXJCLE1BQU1DO1FBQVFDLFVBQVU7SUFBTTtJQUNyQ29CLFdBQVc7UUFBRXRCLE1BQU11QjtRQUFNckIsVUFBVTtJQUFNO0lBQ3pDc0IsVUFBVTtRQUNSO1lBQ0VDLFdBQVc7Z0JBQUV6QixNQUFNSix3REFBZSxDQUFDOEIsS0FBSyxDQUFDQyxRQUFRO2dCQUFFQyxLQUFLO2dCQUFXMUIsVUFBVTtZQUFLO1lBQ2xGMkIsYUFBYTtnQkFBRTdCLE1BQU1DO2dCQUFRQyxVQUFVO1lBQUs7UUFDOUM7S0FDRDtJQUNENEIsY0FBYztRQUNaOUIsTUFBTStCO1FBQ05wQixTQUFTO1FBQ1RxQixLQUFLO1lBQUM7WUFBRztTQUFtQztRQUM1Q0MsS0FBSztZQUFDO1lBQU07U0FBbUM7SUFDakQ7SUFFQUMsUUFBUTtRQUFFbEMsTUFBTTtZQUFDQztTQUFPO1FBQUVVLFNBQVMsRUFBRTtJQUFDO0FBQ3hDLEdBQ0E7SUFDRXdCLFlBQVk7SUFDWkMsUUFBUTtRQUNOQyxVQUFVO1FBQ1ZDLFdBQVcsU0FBVUMsR0FBRyxFQUFFQyxHQUFHO1lBQzNCLE1BQU0sRUFBRUMsR0FBRyxFQUFFLEdBQUdDLE1BQU0sR0FBR0Y7WUFDekIsT0FBT0U7UUFDVDtJQUNGO0lBQ0FDLFVBQVU7UUFBRU4sVUFBVTtJQUFLO0FBQzdCO0FBR0Z2QyxXQUFXOEMsR0FBRyxDQUFDLFFBQVEsU0FBVUMsSUFBSTtJQUNuQyxJQUFJLENBQUNmLFlBQVksR0FBRyxJQUFJLENBQUNOLFFBQVEsR0FBRyxJQUFJLENBQUNBLFFBQVEsQ0FBQ3NCLE1BQU0sR0FBRztJQUMzREQ7QUFDRjtBQUVBLE1BQU1FLFlBQ0osd0RBQWdCLENBQUNFLElBQUksSUFDckJyRCxxREFBYyxDQUFPLFFBQVFFO0FBRS9CLGlFQUFlaUQsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtbWFuYWdlbWVudC8uL21vZGVsL1VzZXIudHM/ZGQzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBEb2N1bWVudCB9IGZyb20gXCJtb25nb29zZVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIgZXh0ZW5kcyBEb2N1bWVudCB7XG4gIF9pZDogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQ7XG4gIG5hbWU6IHN0cmluZztcbiAgZW1haWw6IHN0cmluZztcbiAgcGFzc3dvcmQ6IHN0cmluZztcbiAgcm9sbE5vOiBzdHJpbmc7XG4gIHJvbGU6IFwiQWRtaW5cIiB8IFwiTGVhZFwiIHwgXCJNZW1iZXJcIiB8IFwiUHJvamVjdExlYWRcIiB8IFwiQ29MZWFkXCIgfCBcIm1lbWJlclwiIHwgXCJsZWFkXCIgfCBcImFkbWluXCIgfCBcInByb2plY3RsZWFkXCIgfCBcImNvbGVhZFwiO1xuICBkb21haW46IHN0cmluZztcbiAgZ2l0aHViSWQ6IHN0cmluZztcbiAgbGlua2VkaW5JZDogc3RyaW5nO1xuICBwcm9maWxlUGljOiBzdHJpbmc7XG4gIHByb2ZpbGVQaWNQdWJsaWNJZDogc3RyaW5nO1xuICBlbWFpbFZlcmlmaWVkOiBib29sZWFuO1xuICBvdHA/OiBzdHJpbmc7XG4gIG90cEV4cGlyeT86IERhdGU7XG4gIHByb2plY3RzOiB7IHByb2plY3RJZDogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQ7IHByb2plY3ROYW1lOiBzdHJpbmcgfVtdO1xuICBQcm9qZWN0Q291bnQ6IG51bWJlcjtcbiAgc2tpbGxzOiBzdHJpbmdbXTsgXG59XG5cbmNvbnN0IFVzZXJTY2hlbWE6IFNjaGVtYTxVc2VyPiA9IG5ldyBTY2hlbWEoXG4gIHtcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IFt0cnVlLCBcIk5hbWUgaXMgcmVxdWlyZWRcIl0sIHRyaW06IHRydWUgfSxcbiAgICBlbWFpbDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCBcIkVtYWlsIGlzIHJlcXVpcmVkXCJdLFxuICAgICAgdW5pcXVlOiB0cnVlLFxuICAgICAgbWF0Y2g6IFsvLitcXEAuK1xcLi4rLywgXCJQbGVhc2UgdXNlIGEgdmFsaWQgZW1haWxcIl0sXG4gICAgfSxcbiAgICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBbdHJ1ZSwgXCJQYXNzd29yZCBpcyByZXF1aXJlZFwiXSB9LFxuICAgIHJvbGxObzoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCBcIlJvbGwgbnVtYmVyIGlzIHJlcXVpcmVkXCJdLFxuICAgICAgdW5pcXVlOiB0cnVlLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICB9LFxuICAgIHJvbGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGVudW06IFtcIkFkbWluXCIsIFwiTGVhZFwiLCBcIk1lbWJlclwiLCBcIlByb2plY3RMZWFkXCIsIFwiQ29MZWFkXCJdLFxuICAgICAgZGVmYXVsdDogXCJNZW1iZXJcIixcbiAgICB9LFxuICAgIGdpdGh1YklkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IFt0cnVlLCBcIkdpdGh1YklkIGlzIHJlcXVpcmVkXCJdIH0sXG4gICAgbGlua2VkaW5JZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBbdHJ1ZSwgXCJMaW5rZWRJbklkIGlzIHJlcXVpcmVkXCJdIH0sXG4gICAgZG9tYWluOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IFt0cnVlLCBcIkRvbWFpbiBpcyByZXF1aXJlZFwiXSB9LFxuICAgIHByb2ZpbGVQaWM6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHByb2ZpbGVQaWNQdWJsaWNJZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IFt0cnVlLCBcIlByb2ZpbGVQaWNQdWJsaWNJZCBpcyByZXF1aXJlZFwiXSxcbiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICh0aGlzOiBhbnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkLnRvU3RyaW5nKCk7XG4gICAgICB9LFxuICAgIH0sXG4gICAgZW1haWxWZXJpZmllZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICAgIG90cDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9LFxuICAgIG90cEV4cGlyeTogeyB0eXBlOiBEYXRlLCByZXF1aXJlZDogZmFsc2UgfSxcbiAgICBwcm9qZWN0czogW1xuICAgICAge1xuICAgICAgICBwcm9qZWN0SWQ6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6IFwiUHJvamVjdFwiLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICBwcm9qZWN0TmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB9LFxuICAgIF0sXG4gICAgUHJvamVjdENvdW50OiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiAwLFxuICAgICAgbWluOiBbMCwgXCJQcm9qZWN0IGNvdW50IG11c3QgYmUgYXQgbGVhc3QgMFwiXSxcbiAgICAgIG1heDogWzEwMDAsIFwiUHJvamVjdCBjb3VudCBjYW5ub3QgZXhjZWVkIDEwMDBcIl0sXG4gICAgfSxcblxuICAgIHNraWxsczogeyB0eXBlOiBbU3RyaW5nXSwgZGVmYXVsdDogW10gfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gICAgdG9KU09OOiB7XG4gICAgICB2aXJ0dWFsczogdHJ1ZSxcbiAgICAgIHRyYW5zZm9ybTogZnVuY3Rpb24gKGRvYywgcmV0KSB7XG4gICAgICAgIGNvbnN0IHsgX192LCAuLi5yZXN0IH0gPSByZXQ7XG4gICAgICAgIHJldHVybiByZXN0O1xuICAgICAgfSxcbiAgICB9LFxuICAgIHRvT2JqZWN0OiB7IHZpcnR1YWxzOiB0cnVlIH0sXG4gIH1cbik7XG5cblVzZXJTY2hlbWEucHJlKFwic2F2ZVwiLCBmdW5jdGlvbiAobmV4dCkge1xuICB0aGlzLlByb2plY3RDb3VudCA9IHRoaXMucHJvamVjdHMgPyB0aGlzLnByb2plY3RzLmxlbmd0aCA6IDA7XG4gIG5leHQoKTtcbn0pO1xuXG5jb25zdCBVc2VyTW9kZWwgPVxuICAobW9uZ29vc2UubW9kZWxzLlVzZXIgYXMgbW9uZ29vc2UuTW9kZWw8VXNlcj4pIHx8XG4gIG1vbmdvb3NlLm1vZGVsPFVzZXI+KFwiVXNlclwiLCBVc2VyU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgVXNlck1vZGVsO1xuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiU2NoZW1hIiwiVXNlclNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ0cmltIiwiZW1haWwiLCJ1bmlxdWUiLCJtYXRjaCIsInBhc3N3b3JkIiwicm9sbE5vIiwicm9sZSIsImVudW0iLCJkZWZhdWx0IiwiZ2l0aHViSWQiLCJsaW5rZWRpbklkIiwiZG9tYWluIiwicHJvZmlsZVBpYyIsInByb2ZpbGVQaWNQdWJsaWNJZCIsIl9pZCIsInRvU3RyaW5nIiwiZW1haWxWZXJpZmllZCIsIkJvb2xlYW4iLCJvdHAiLCJvdHBFeHBpcnkiLCJEYXRlIiwicHJvamVjdHMiLCJwcm9qZWN0SWQiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicHJvamVjdE5hbWUiLCJQcm9qZWN0Q291bnQiLCJOdW1iZXIiLCJtaW4iLCJtYXgiLCJza2lsbHMiLCJ0aW1lc3RhbXBzIiwidG9KU09OIiwidmlydHVhbHMiLCJ0cmFuc2Zvcm0iLCJkb2MiLCJyZXQiLCJfX3YiLCJyZXN0IiwidG9PYmplY3QiLCJwcmUiLCJuZXh0IiwibGVuZ3RoIiwiVXNlck1vZGVsIiwibW9kZWxzIiwiVXNlciIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./model/User.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/bcryptjs","vendor-chunks/oauth","vendor-chunks/object-hash","vendor-chunks/preact","vendor-chunks/uuid","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/lru-cache","vendor-chunks/cookie","vendor-chunks/oidc-token-hash","vendor-chunks/@panva","vendor-chunks/lodash","vendor-chunks/cloudinary","vendor-chunks/dotenv","vendor-chunks/q"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2Froute&page=%2Fapi%2Fprojects%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2Froute.ts&appDir=%2Fhome%2Fuser%2FDocuments%2FWorkpiolt%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fuser%2FDocuments%2FWorkpiolt&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();